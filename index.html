<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACS-2909 Study Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ==========================================
           CSS VARIABLES & BASE STYLES
           ========================================== */
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --bg-elevated: #1c2128;
            --text-primary: #c9d1d9;
            --text-secondary: #8b949e;
            --text-muted: #6e7681;
            --accent: #58a6ff;
            --accent-hover: #79b8ff;
            --accent-dim: rgba(88, 166, 255, 0.1);
            --success: #238636;
            --success-light: #3fb950;
            --success-dim: rgba(35, 134, 54, 0.2);
            --warning: #d29922;
            --warning-dim: rgba(210, 153, 34, 0.2);
            --error: #f85149;
            --error-dim: rgba(248, 81, 73, 0.2);
            --border: #30363d;
            --border-light: #21262d;
            --code-bg: #1f2937;
            --gradient-primary: linear-gradient(135deg, #58a6ff 0%, #238636 100%);
            --gradient-accent: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.3);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.4);
            --shadow-lg: 0 8px 24px rgba(0,0,0,0.5);
            --radius-sm: 6px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* ==========================================
           HEADER & NAVIGATION
           ========================================== */
        .app-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 64px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 24px;
            z-index: 1000;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--accent);
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: var(--gradient-primary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.1rem;
        }

        .main-nav {
            display: flex;
            gap: 4px;
        }

        .nav-tab {
            padding: 8px 16px;
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-tab:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .nav-tab.active {
            background: var(--accent-dim);
            color: var(--accent);
        }

        .progress-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .progress-bar-small {
            width: 120px;
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill-small {
            height: 100%;
            background: var(--gradient-primary);
            transition: width 0.5s ease;
        }

        .progress-text-small {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* ==========================================
           MAIN LAYOUT
           ========================================== */
        .app-container {
            padding-top: 64px;
            min-height: 100vh;
        }

        .section-container {
            display: none;
            padding: 24px;
            max-width: 1400px;
            margin: 0 auto;
            animation: fadeIn 0.3s ease;
        }

        .section-container.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page-header {
            margin-bottom: 24px;
        }

        .page-header h1 {
            font-size: 1.75rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .page-header p {
            color: var(--text-secondary);
        }

        /* ==========================================
           LECTURES SECTION
           ========================================== */
        .lectures-layout {
            display: grid;
            grid-template-columns: 260px 1fr;
            gap: 24px;
        }

        .lecture-sidebar {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            padding: 16px;
            position: sticky;
            top: 88px;
            height: calc(100vh - 112px);
            overflow-y: auto;
        }

        .sidebar-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border);
        }

        .module-nav {
            margin-bottom: 16px;
        }

        .module-header {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .module-link {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: var(--radius-md);
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.2s;
            cursor: pointer;
        }

        .module-link:hover {
            background: var(--bg-tertiary);
            color: var(--accent);
        }

        .module-link.completed::after {
            content: '‚úì';
            margin-left: auto;
            color: var(--success-light);
            font-weight: 600;
        }

        .lecture-content {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            padding: 32px;
        }

        .topic-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-bottom: 24px;
        }

        .topic-title {
            font-size: 1.2rem;
            color: var(--accent);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* ==========================================
           QUIZ SECTION
           ========================================== */
        .quiz-dashboard {
            display: grid;
            gap: 24px;
        }

        .quiz-modes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
        }

        .quiz-mode-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 24px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quiz-mode-card:hover {
            border-color: var(--accent);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .quiz-mode-card.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quiz-mode-card.disabled:hover {
            border-color: var(--border);
            transform: none;
            box-shadow: none;
        }

        .mode-icon {
            width: 48px;
            height: 48px;
            background: var(--accent-dim);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 16px;
        }

        .mode-title {
            font-size: 1.1rem;
            margin-bottom: 8px;
        }

        .mode-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 12px;
        }

        .mode-meta {
            display: flex;
            gap: 16px;
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        /* Quiz Interface */
        .quiz-interface {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            overflow: hidden;
        }

        .quiz-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .quiz-progress-bar {
            flex: 1;
            max-width: 300px;
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
        }

        .quiz-progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            transition: width 0.3s ease;
        }

        .quiz-stats {
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .quiz-body {
            padding: 32px;
        }

        .question-container {
            margin-bottom: 32px;
        }

        .question-number {
            font-size: 0.85rem;
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 8px;
        }

        .question-text {
            font-size: 1.25rem;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .code-block {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: 16px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin-bottom: 20px;
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-item:hover {
            border-color: var(--accent);
            background: var(--accent-dim);
        }

        .option-item.selected {
            border-color: var(--accent);
            background: var(--accent-dim);
        }

        .option-item.correct {
            border-color: var(--success);
            background: var(--success-dim);
        }

        .option-item.incorrect {
            border-color: var(--error);
            background: var(--error-dim);
        }

        .option-letter {
            width: 32px;
            height: 32px;
            background: var(--bg-secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .quiz-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 24px;
            border-top: 1px solid var(--border);
        }

        .quiz-nav-buttons {
            display: flex;
            gap: 12px;
        }

        /* ==========================================
           BUTTONS
           ========================================== */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: var(--radius-md);
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--accent);
            color: var(--bg-primary);
        }

        .btn-primary:hover {
            background: var(--accent-hover);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--bg-elevated);
            border-color: var(--text-secondary);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: var(--success-light);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* ==========================================
           RESULTS SECTION
           ========================================== */
        .results-container {
            text-align: center;
            padding: 40px;
        }

        .score-circle {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: var(--gradient-primary);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto 32px;
            color: white;
        }

        .score-value {
            font-size: 3.5rem;
            font-weight: 700;
            line-height: 1;
        }

        .score-label {
            font-size: 1rem;
            opacity: 0.9;
            margin-top: 4px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
            margin-bottom: 32px;
        }

        .stat-box {
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            padding: 20px;
        }

        .stat-value {
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--accent);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        /* ==========================================
           GAMES SECTION
           ========================================== */
        .games-menu {
            display: grid;
            gap: 24px;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
        }

        .game-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 24px;
            position: relative;
            transition: all 0.3s ease;
        }

        .game-card:hover:not(.locked) {
            border-color: var(--accent);
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .game-card.locked {
            opacity: 0.6;
        }

        .game-card.recommended {
            border-color: var(--warning);
        }

        .recommended-badge {
            position: absolute;
            top: -10px;
            right: 16px;
            background: var(--warning);
            color: #92400e;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .lock-overlay {
            position: absolute;
            inset: 0;
            background: rgba(13, 17, 23, 0.8);
            border-radius: var(--radius-lg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 12px;
            z-index: 10;
        }

        .lock-overlay i {
            font-size: 3rem;
            color: var(--text-muted);
        }

        .game-icon {
            width: 56px;
            height: 56px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-bottom: 16px;
        }

        .game-title {
            font-size: 1.15rem;
            margin-bottom: 8px;
        }

        .game-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 16px;
        }

        .game-meta {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
            font-size: 0.85rem;
        }

        .difficulty {
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.7rem;
        }

        .difficulty-easy { background: var(--success-dim); color: var(--success-light); }
        .difficulty-medium { background: var(--warning-dim); color: var(--warning); }
        .difficulty-hard { background: var(--error-dim); color: var(--error); }

        .game-progress {
            margin-bottom: 16px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 6px;
        }

        /* ==========================================
           CHEAT SHEET SECTION
           ========================================== */
        .cheatsheet-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .cheatsheet-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 24px;
        }

        .cheatsheet-option {
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 24px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .cheatsheet-option:hover {
            border-color: var(--accent);
        }

        .cheatsheet-option.selected {
            border-color: var(--accent);
            background: var(--accent-dim);
        }

        .option-icon {
            width: 48px;
            height: 48px;
            background: var(--bg-tertiary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 16px;
        }

        .workflow-tracker {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 20px;
            margin-bottom: 24px;
        }

        .workflow-steps {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .workflow-step {
            flex: 1;
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
        }

        .workflow-step.completed {
            background: var(--success);
        }

        .workflow-step.current {
            background: var(--accent);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Cheat Sheet Output */
        .cs-container {
            background: white;
            color: #333;
            border-radius: var(--radius-lg);
            padding: 32px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
        }

        .cs-header {
            text-align: center;
            padding-bottom: 24px;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 24px;
        }

        .cs-title {
            font-size: 1.75rem;
            color: #1e293b;
            margin-bottom: 8px;
        }

        .cs-subtitle {
            color: #64748b;
        }

        .cs-content {
            columns: 2;
            column-gap: 32px;
        }

        .cs-section {
            break-inside: avoid;
            margin-bottom: 24px;
        }

        .cs-section-title {
            font-size: 1.1rem;
            color: #334155;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #e2e8f0;
        }

        .cs-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }

        .cs-table th,
        .cs-table td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .cs-table th {
            background: #f8fafc;
            font-weight: 600;
        }

        /* ==========================================
           PROGRESS SECTION
           ========================================== */
        .progress-dashboard {
            display: grid;
            gap: 24px;
        }

        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .stat-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 24px;
        }

        .stat-card-icon {
            width: 48px;
            height: 48px;
            background: var(--accent-dim);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            color: var(--accent);
            margin-bottom: 16px;
        }

        .stat-card-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .stat-card-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .topic-mastery {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 24px;
        }

        .mastery-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-top: 16px;
        }

        .mastery-item {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .mastery-info {
            flex: 1;
        }

        .mastery-name {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .mastery-bar {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
        }

        .mastery-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .mastery-fill.mastered { background: var(--success); }
        .mastery-fill.learning { background: var(--warning); }
        .mastery-fill.weak { background: var(--error); }
        .mastery-fill.not-started { background: var(--text-muted); }

        .mastery-percent {
            font-weight: 600;
            color: var(--text-secondary);
        }

        /* ==========================================
           TOAST NOTIFICATIONS
           ========================================== */
        .toast-container {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .toast {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: 16px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: var(--shadow-lg);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .toast.success { border-left: 4px solid var(--success); }
        .toast.error { border-left: 4px solid var(--error); }
        .toast.warning { border-left: 4px solid var(--warning); }
        .toast.info { border-left: 4px solid var(--accent); }

        /* ==========================================
           MODALS
           ========================================== */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 24px;
        }

        .modal-content {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-body {
            padding: 24px;
        }

        .modal-footer {
            padding: 16px 24px;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* ==========================================
           LOADING STATES
           ========================================== */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--bg-tertiary);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ==========================================
           RESPONSIVE DESIGN
           ========================================== */
        @media (max-width: 1024px) {
            .lectures-layout {
                grid-template-columns: 1fr;
            }

            .lecture-sidebar {
                position: static;
                height: auto;
            }

            .cheatsheet-options {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .app-header {
                padding: 0 16px;
            }

            .main-nav {
                display: none;
            }

            .nav-tab span {
                display: none;
            }

            .main-nav {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                background: var(--bg-secondary);
                border-top: 1px solid var(--border);
                padding: 8px;
                display: flex;
                justify-content: space-around;
            }

            .section-container {
                padding-bottom: 80px;
            }

            .quiz-modes-grid,
            .games-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ==========================================
           UTILITY CLASSES
           ========================================== */
        .hidden { display: none !important; }
        .text-center { text-align: center; }
        .text-success { color: var(--success-light); }
        .text-error { color: var(--error); }
        .text-warning { color: var(--warning); }
        .text-accent { color: var(--accent); }
        .mb-1 { margin-bottom: 8px; }
        .mb-2 { margin-bottom: 16px; }
        .mb-3 { margin-bottom: 24px; }
        .mt-1 { margin-top: 8px; }
        .mt-2 { margin-top: 16px; }
        .mt-3 { margin-top: 24px; }

        /* ========== INTERACTIVE DEMO STYLES ========== */
        .interactive-demo {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin: 24px 0;
        }

        .demo-title {
            font-size: 1.1rem;
            color: var(--accent);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        /* Box Model Demo */
        .box-model-container { display: flex; flex-direction: column; gap: 20px; }
        .box-model-visual {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: var(--radius-md);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px;
        }
        .margin-box {
            background: rgba(248, 81, 73, 0.2);
            border: 2px dashed var(--error);
            padding: 30px;
            position: relative;
        }
        .margin-label { position: absolute; top: 5px; left: 5px; font-size: 0.8rem; color: var(--error); }
        .border-box {
            background: rgba(210, 153, 34, 0.2);
            border: 5px solid var(--warning);
            padding: 25px;
            position: relative;
        }
        .border-label { position: absolute; top: -20px; left: 0; font-size: 0.8rem; color: var(--warning); }
        .padding-box {
            background: rgba(35, 134, 54, 0.2);
            border: 2px dashed var(--success);
            padding: 25px;
            position: relative;
        }
        .padding-label { position: absolute; top: 5px; left: 5px; font-size: 0.8rem; color: var(--success-light); }
        .content-box {
            background: var(--accent);
            color: var(--bg-primary);
            padding: 20px 40px;
            text-align: center;
            font-weight: 600;
            border-radius: 4px;
        }
        .box-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
        }
        .control-group { display: flex; flex-direction: column; gap: 8px; }
        .control-group label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            display: flex;
            justify-content: space-between;
        }
        .control-group input[type="range"] { width: 100%; accent-color: var(--accent); }
        .control-value { color: var(--accent); font-weight: 600; }

        /* Flexbox Demo */
        .flexbox-container { display: flex; flex-direction: column; gap: 20px; }
        .flex-demo-area {
            background: var(--bg-secondary);
            min-height: 200px;
            border: 2px solid var(--border);
            border-radius: var(--radius-md);
            padding: 10px;
            display: flex;
            gap: 10px;
        }
        .flex-item {
            background: linear-gradient(135deg, var(--accent), var(--success));
            color: var(--bg-primary);
            padding: 20px 30px;
            border-radius: 6px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .flex-controls { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }

        /* Color Picker Demo */
        .color-picker-container { display: flex; flex-wrap: wrap; gap: 24px; align-items: flex-start; }
        .color-input-section { flex: 1; min-width: 250px; }
        .color-preview-section { flex: 1; min-width: 250px; }
        .color-input-group { margin-bottom: 16px; }
        .color-input-group label { display: block; margin-bottom: 8px; color: var(--text-secondary); font-size: 0.9rem; }
        .color-input-wrapper { display: flex; gap: 10px; align-items: center; }
        .color-input {
            flex: 1;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-primary);
            padding: 12px 15px;
            border-radius: var(--radius-md);
            font-size: 1rem;
            font-family: monospace;
        }
        input[type="color"] { width: 50px; height: 45px; border: none; border-radius: var(--radius-md); cursor: pointer; background: none; }
        .color-preview-box {
            width: 100%;
            height: 120px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 12px;
            border: 2px solid var(--border);
        }
        .color-info { background: var(--bg-secondary); padding: 12px; border-radius: var(--radius-md); }
        .color-info-item { display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 0.9rem; }

        /* Variable Validator */
        .validator-container { display: flex; flex-direction: column; gap: 16px; }
        .validator-input-group { display: flex; gap: 12px; flex-wrap: wrap; }
        .validator-input {
            flex: 1;
            min-width: 200px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-primary);
            padding: 12px 16px;
            border-radius: var(--radius-md);
            font-size: 1rem;
            font-family: monospace;
        }
        .validator-rules { background: var(--bg-secondary); padding: 16px; border-radius: var(--radius-md); }
        .rule-item { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; font-size: 0.9rem; }
        .rule-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
        }
        .rule-icon.valid { background: var(--success); color: white; }
        .rule-icon.invalid { background: var(--error); color: white; }
        .rule-icon.pending { background: var(--bg-tertiary); color: var(--text-secondary); }
        .validator-result { padding: 16px; border-radius: var(--radius-md); display: none; }
        .validator-result.valid { display: block; background: rgba(35, 134, 54, 0.2); border: 1px solid var(--success); }
        .validator-result.invalid { display: block; background: rgba(248, 81, 73, 0.2); border: 1px solid var(--error); }

        /* Calculator */
        .calc-container { display: flex; flex-direction: column; gap: 16px; }
        .calc-input-section { display: flex; gap: 12px; flex-wrap: wrap; }
        .calc-input {
            flex: 1;
            min-width: 200px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-primary);
            padding: 12px 16px;
            border-radius: var(--radius-md);
            font-size: 1rem;
            font-family: monospace;
        }
        .calc-steps { background: var(--bg-secondary); border-radius: var(--radius-md); padding: 16px; display: none; }
        .calc-steps.show { display: block; }
        .calc-step { display: flex; align-items: center; gap: 12px; padding: 10px 0; border-bottom: 1px solid var(--border); }
        .calc-step:last-child { border-bottom: none; }
        .step-number {
            width: 28px;
            height: 28px;
            background: var(--accent);
            color: var(--bg-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.85rem;
            flex-shrink: 0;
        }
        .step-content { flex: 1; }
        .step-expression { font-family: monospace; font-size: 0.95rem; color: var(--text-primary); }
        .step-explanation { font-size: 0.8rem; color: var(--text-secondary); margin-top: 2px; }
        .step-result { background: var(--success); color: white; padding: 4px 10px; border-radius: 4px; font-weight: 600; font-size: 0.85rem; }

        /* Flash Cards */
        .flashcard-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }
        .flashcard {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .flashcard:hover { border-color: var(--accent); transform: translateY(-2px); }
        .flashcard.flipped { background: var(--accent-light); }
        .flashcard-front { text-align: center; }
        .flashcard-back { display: none; text-align: center; }
        .flashcard.flipped .flashcard-front { display: none; }
        .flashcard.flipped .flashcard-back { display: block; }
        .flashcard-title { font-size: 1rem; color: var(--accent); margin-bottom: 8px; font-weight: 600; }
        .flashcard-hint { font-size: 0.75rem; color: var(--text-secondary); margin-top: 8px; }

        /* Path Quiz */
        .path-quiz-container { display: flex; flex-direction: column; gap: 16px; }
        .path-question {
            background: var(--bg-secondary);
            padding: 16px;
            border-radius: var(--radius-md);
            border-left: 4px solid var(--accent);
        }
        .path-question-text { font-size: 1rem; margin-bottom: 12px; }
        .path-options { display: flex; flex-direction: column; gap: 8px; }
        .path-option {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            padding: 12px 16px;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .path-option:hover { border-color: var(--accent); }
        .path-option.correct { background: rgba(35, 134, 54, 0.2); border-color: var(--success); }
        .path-option.incorrect { background: rgba(248, 81, 73, 0.2); border-color: var(--error); }

        /* Summary Box */
        .summary-box {
            background: linear-gradient(135deg, rgba(88, 166, 255, 0.1), rgba(35, 134, 54, 0.1));
            border: 1px solid var(--accent);
            border-radius: var(--radius-lg);
            padding: 20px;
            margin: 24px 0;
        }
        .summary-title { font-size: 1.1rem; color: var(--accent); margin-bottom: 12px; font-weight: 600; }
        .summary-content { columns: 2; column-gap: 24px; }
        @media (max-width: 768px) { .summary-content { columns: 1; } }
        .summary-item { break-inside: avoid; margin-bottom: 10px; padding: 8px; background: rgba(88, 166, 255, 0.05); border-radius: 4px; font-size: 0.9rem; }
        .summary-term { font-weight: 600; color: var(--accent); }

        /* Highlight/Info Boxes */
        .highlight-box {
            background: rgba(210, 153, 34, 0.1);
            border-left: 4px solid var(--warning);
            padding: 12px 16px;
            margin: 12px 0;
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
        }
        .info-box {
            background: rgba(88, 166, 255, 0.1);
            border-left: 4px solid var(--accent);
            padding: 12px 16px;
            margin: 12px 0;
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="logo">
            <div class="logo-icon"><i class="fas fa-graduation-cap"></i></div>
            <span>ACS-2909 Study Platform</span>
        </div>
        
        <nav class="main-nav">
            <a href="#lectures" class="nav-tab active" data-section="lectures">
                <i class="fas fa-book"></i> <span>Lectures</span>
            </a>
            <a href="#quiz" class="nav-tab" data-section="quiz">
                <i class="fas fa-question-circle"></i> <span>Quiz</span>
            </a>
            <a href="#games" class="nav-tab" data-section="games">
                <i class="fas fa-gamepad"></i> <span>Games</span>
            </a>
            <a href="#cheatsheet" class="nav-tab" data-section="cheatsheet">
                <i class="fas fa-file-alt"></i> <span>Cheat Sheet</span>
            </a>
            <a href="#progress" class="nav-tab" data-section="progress">
                <i class="fas fa-chart-line"></i> <span>Progress</span>
            </a>
        </nav>

        <div class="progress-indicator">
            <div class="progress-bar-small">
                <div class="progress-fill-small" id="overallProgress" style="width: 0%"></div>
            </div>
            <span class="progress-text-small" id="overallProgressText">0%</span>
        </div>
    </header>

    <!-- Main Container -->
    <div class="app-container">
        <!-- Lectures Section -->
        <section id="lectures" class="section-container active">
            <div class="page-header">
                <h1><i class="fas fa-book"></i> Comprehensive Lectures</h1>
                <p>Full course content from HTML & CSS Is Hard + javascript.info</p>
                <button class="btn btn-primary" onclick="window.open('lecture-content.html', '_blank')" style="margin-top: 15px;">
                    <i class="fas fa-external-link-alt"></i> Open Full Lecture Page
                </button>
            </div>
            <div class="lectures-layout">
                <aside class="lecture-sidebar">
                    <div class="sidebar-title">Quick Access Modules</div>
                    <div id="moduleNav">
                        <!-- Populated by JavaScript -->
                    </div>
                </aside>
                <div class="lecture-content" id="lectureContent" style="max-height: 70vh; overflow-y: auto;">
                    <div class="text-center" style="padding: 40px 20px;">
                        <i class="fas fa-graduation-cap" style="font-size: 3rem; color: var(--success-light); margin-bottom: 20px;"></i>
                        <h2>üìö Comprehensive Lecture Content</h2>
                        <p style="color: var(--text-secondary); margin: 15px 0;">
                            The full lecture content includes 8 detailed modules with interactive demos:
                        </p>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; text-align: left; margin: 20px 0; max-width: 500px; margin-left: auto; margin-right: auto;">
                            <div class="topic-badge"><i class="fas fa-globe"></i> Internet Basics</div>
                            <div class="topic-badge"><i class="fas fa-code"></i> HTML Structure</div>
                            <div class="topic-badge"><i class="fas fa-paint-brush"></i> CSS Fundamentals</div>
                            <div class="topic-badge"><i class="fas fa-th-large"></i> CSS Layout</div>
                            <div class="topic-badge"><i class="fab fa-js"></i> JS Basics</div>
                            <div class="topic-badge"><i class="fas fa-code-branch"></i> JS Control Flow</div>
                            <div class="topic-badge"><i class="fas fa-cog"></i> JS Functions</div>
                            <div class="topic-badge"><i class="fas fa-cube"></i> JS Objects</div>
                        </div>
                        <div style="background: var(--bg-tertiary); padding: 20px; border-radius: 8px; margin-top: 20px;">
                            <h4 style="color: var(--accent);">üéØ Interactive Features:</h4>
                            <ul style="list-style: none; padding: 0; margin-top: 10px; color: var(--text-secondary);">
                                <li>üìè Box Model Sliders</li>
                                <li>üé® Color Picker Tool</li>
                                <li>üéÆ Flexbox Playground</li>
                                <li>üîç Variable Name Validator</li>
                                <li>üßÆ Operator Precedence Calculator</li>
                                <li>üé¥ Flash Cards for Memorization</li>
                            </ul>
                        </div>
                        <button class="btn btn-success" onclick="window.open('lecture-content.html', '_blank')" style="margin-top: 20px;">
                            <i class="fas fa-book-open"></i> Open Full Lectures (New Tab)
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quiz Section -->
        <section id="quiz" class="section-container">
            <div class="page-header">
                <h1><i class="fas fa-question-circle"></i> Quiz</h1>
                <p>Test your knowledge with 231 practice questions</p>
            </div>
            <div class="quiz-dashboard" id="quizDashboard">
                <!-- Quiz content populated by JavaScript -->
            </div>
        </section>

        <!-- Games Section -->
        <section id="games" class="section-container">
            <div class="page-header">
                <h1><i class="fas fa-gamepad"></i> Educational Games</h1>
                <p>Learn through interactive challenges</p>
            </div>
            <div class="games-menu" id="gamesContainer">
                <!-- Games populated by JavaScript -->
            </div>
        </section>

        <!-- Cheat Sheet Section -->
        <section id="cheatsheet" class="section-container">
            <div class="page-header">
                <h1><i class="fas fa-file-alt"></i> Cheat Sheet</h1>
                <p>Generate personalized study references</p>
            </div>
            <div class="cheatsheet-container" id="cheatsheetContainer">
                <!-- Cheat sheet content populated by JavaScript -->
            </div>
        </section>

        <!-- Progress Section -->
        <section id="progress" class="section-container">
            <div class="page-header">
                <h1><i class="fas fa-chart-line"></i> Progress</h1>
                <p>Track your learning journey</p>
            </div>
            <div class="progress-dashboard" id="progressDashboard">
                <!-- Progress content populated by JavaScript -->
            </div>
        </section>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- JavaScript -->
    <script>
        // ==========================================
        // MEGA QUESTION BANK (231 Questions)
        // ==========================================
        const megaQuestionBank = [
            // INTERNET BASICS (25 questions) - Sample
            {
                id: 1, category: "internet", difficulty: "easy",
                question: "What does HTTP stand for?",
                code: null,
                options: ["HyperText Transfer Protocol", "HyperText Transmission Protocol", "HighText Transfer Protocol", "HyperTransfer Text Protocol"],
                correctAnswer: 0,
                explanation: "HTTP stands for HyperText Transfer Protocol. It is the foundation of data communication on the World Wide Web."
            },
            {
                id: 2, category: "internet", difficulty: "easy",
                question: "In the client-server model, what is the role of the client?",
                code: null,
                options: ["To store and serve web pages", "To request and receive resources from the server", "To manage the database", "To host the website files"],
                correctAnswer: 1,
                explanation: "In the client-server model, the client (typically a web browser) requests resources from the server."
            },
            {
                id: 3, category: "internet", difficulty: "easy",
                question: "What is the purpose of a web browser?",
                code: null,
                options: ["To create websites", "To request, receive, and render web content", "To host websites", "To write HTML code"],
                correctAnswer: 1,
                explanation: "A web browser requests web resources from servers, receives the data, and renders it into a visual web page."
            },
            {
                id: 4, category: "internet", difficulty: "easy",
                question: "What does URL stand for?",
                code: null,
                options: ["Uniform Resource Locator", "Universal Resource Link", "Uniform Resource Link", "Universal Reference Locator"],
                correctAnswer: 0,
                explanation: "URL stands for Uniform Resource Locator. It is the address used to access resources on the internet."
            },
            {
                id: 5, category: "internet", difficulty: "easy",
                question: "In the domain 'www.example.com', what is '.com' called?",
                code: null,
                options: ["The subdomain", "The top-level domain (TLD)", "The second-level domain", "The protocol"],
                correctAnswer: 1,
                explanation: "'.com' is the top-level domain (TLD). 'www' is a subdomain, 'example' is the second-level domain."
            },
            {
                id: 6, category: "internet", difficulty: "easy",
                question: "Which HTTP method is typically used to request data from a server?",
                code: null,
                options: ["POST", "GET", "DELETE", "PUT"],
                correctAnswer: 1,
                explanation: "The GET method is used to request data from a server. When you type a URL, the browser sends a GET request."
            },
            {
                id: 7, category: "internet", difficulty: "easy",
                question: "What is an absolute file path?",
                code: null,
                options: ["A path relative to the current file", "A complete path from the root directory", "A path using only forward slashes", "A path without file extension"],
                correctAnswer: 1,
                explanation: "An absolute path specifies the complete path from the root directory to the file."
            },
            {
                id: 8, category: "internet", difficulty: "easy",
                question: "What protocol is used for secure communication on the web?",
                code: null,
                options: ["HTTP", "FTP", "HTTPS", "SMTP"],
                correctAnswer: 2,
                explanation: "HTTPS (HTTP Secure) encrypts data transferred between the client and server using SSL/TLS."
            },
            // HTML (33 questions) - Sample
            {
                id: 26, category: "html", difficulty: "easy",
                question: "What is the correct HTML5 doctype declaration?",
                code: null,
                options: ["<!DOCTYPE HTML5>", "<!DOCTYPE html>", "<doctype html>", "<!doctype html5>"],
                correctAnswer: 1,
                explanation: "The correct HTML5 doctype is '<!DOCTYPE html>'. It is case-insensitive but conventionally uppercase."
            },
            {
                id: 27, category: "html", difficulty: "easy",
                question: "Which HTML tag defines the main content unique to a page?",
                code: null,
                options: ["<content>", "<main>", "<body>", "<article>"],
                correctAnswer: 1,
                explanation: "The <main> tag specifies the main content of a document, unique to that page."
            },
            {
                id: 28, category: "html", difficulty: "easy",
                question: "What does the 'alt' attribute in an <img> tag provide?",
                code: '<img src="photo.jpg" alt="A beautiful sunset">',
                options: ["Alternative image source", "Alternative text describing the image", "Image alignment", "Altitude where photo was taken"],
                correctAnswer: 1,
                explanation: "The 'alt' attribute provides alternative text for accessibility and when images fail to load."
            },
            {
                id: 29, category: "html", difficulty: "easy",
                question: "Which tag creates the largest heading?",
                code: null,
                options: ["<heading>", "<h6>", "<h1>", "<head>"],
                correctAnswer: 2,
                explanation: "<h1> creates the largest heading. HTML has six heading levels, h1 through h6."
            },
            {
                id: 30, category: "html", difficulty: "easy",
                question: "Which attribute links a CSS file to an HTML document?",
                code: '<link ___="styles.css">',
                options: ["src", "href", "link", "source"],
                correctAnswer: 1,
                explanation: "The 'href' attribute specifies the URL/path of the linked resource."
            },
            // CSS FUNDAMENTALS (34 questions) - Sample
            {
                id: 59, category: "css-fundamentals", difficulty: "easy",
                question: "Which CSS selector targets an element by its class name?",
                code: null,
                options: ["#classname", ".classname", "classname", "*classname"],
                correctAnswer: 1,
                explanation: "The dot (.) prefix selects elements by class name. The hash (#) selects by ID."
            },
            {
                id: 60, category: "css-fundamentals", difficulty: "easy",
                question: "What CSS property changes the text color?",
                code: null,
                options: ["text-color", "font-color", "color", "foreground"],
                correctAnswer: 2,
                explanation: "The 'color' property sets the text color."
            },
            {
                id: 61, category: "css-fundamentals", difficulty: "easy",
                question: "What is the default value of the position property?",
                code: null,
                options: ["relative", "absolute", "static", "fixed"],
                correctAnswer: 2,
                explanation: "'static' is the default position value. Elements follow normal document flow."
            },
            {
                id: 62, category: "css-fundamentals", difficulty: "easy",
                question: "Which CSS property adds space inside an element's border?",
                code: null,
                options: ["margin", "padding", "spacing", "gap"],
                correctAnswer: 1,
                explanation: "'padding' adds space inside the element's border. 'margin' adds space outside."
            },
            {
                id: 63, category: "css-fundamentals", difficulty: "easy",
                question: "What is the CSS Box Model order from inside to outside?",
                code: null,
                options: [
                    "Margin ‚Üí Border ‚Üí Padding ‚Üí Content",
                    "Content ‚Üí Padding ‚Üí Border ‚Üí Margin",
                    "Padding ‚Üí Content ‚Üí Border ‚Üí Margin",
                    "Content ‚Üí Border ‚Üí Padding ‚Üí Margin"
                ],
                correctAnswer: 1,
                explanation: "The box model from inside to outside: Content, Padding, Border, Margin."
            },
            // CSS LAYOUT (29 questions) - Sample
            {
                id: 93, category: "css-layout", difficulty: "easy",
                question: "What CSS display value enables Flexbox?",
                code: null,
                options: ["display: flex", "display: flexbox", "display: block-flex", "flex: enabled"],
                correctAnswer: 0,
                explanation: "'display: flex' enables Flexbox layout on a container."
            },
            {
                id: 94, category: "css-layout", difficulty: "easy",
                question: "What is the default flex-direction?",
                code: ".container { display: flex; }",
                options: ["column", "row", "row-reverse", "column-reverse"],
                correctAnswer: 1,
                explanation: "The default flex-direction is 'row', arranging items horizontally."
            },
            {
                id: 95, category: "css-layout", difficulty: "easy",
                question: "In Flexbox with row direction, what does justify-content control?",
                code: null,
                options: ["Vertical alignment", "Horizontal alignment along the main axis", "Item wrapping", "Item ordering"],
                correctAnswer: 1,
                explanation: "justify-content aligns flex items along the main axis (horizontal for row)."
            },
            {
                id: 96, category: "css-layout", difficulty: "easy",
                question: "Which justify-content value evenly distributes items with equal space around them?",
                code: null,
                options: ["flex-start", "center", "space-between", "space-around"],
                correctAnswer: 3,
                explanation: "space-around distributes items with equal space around each item."
            },
            {
                id: 97, category: "css-layout", difficulty: "easy",
                question: "What does align-items: center do in Flexbox?",
                code: null,
                options: ["Centers items horizontally", "Centers items vertically (cross axis)", "Centers the container", "Centers text within items"],
                correctAnswer: 1,
                explanation: "align-items centers items along the cross axis (vertical for row direction)."
            },
            // JS BASICS (35 questions) - Sample
            {
                id: 122, category: "js-basics", difficulty: "easy",
                question: "Which keyword declares a variable that cannot be reassigned?",
                code: null,
                options: ["var", "let", "const", "static"],
                correctAnswer: 2,
                explanation: "const declares a variable that cannot be reassigned."
            },
            {
                id: 123, category: "js-basics", difficulty: "easy",
                question: "What is the result of typeof 'Hello'?",
                code: null,
                options: ["'string'", "'text'", "'String'", "'object'"],
                correctAnswer: 0,
                explanation: "typeof 'Hello' returns 'string' (lowercase)."
            },
            {
                id: 124, category: "js-basics", difficulty: "easy",
                question: "What does prompt() return when the user clicks Cancel?",
                code: "let name = prompt('Enter your name:');",
                options: ["An empty string", "null", "undefined", "false"],
                correctAnswer: 1,
                explanation: "prompt() returns null when the user clicks Cancel."
            },
            {
                id: 125, category: "js-basics", difficulty: "easy",
                question: "Which of the following is a valid JavaScript variable name?",
                code: null,
                options: ["2ndPlace", "first-name", "_privateVar", "my variable"],
                correctAnswer: 2,
                explanation: "Valid variable names must start with a letter, underscore, or dollar sign."
            },
            {
                id: 126, category: "js-basics", difficulty: "easy",
                question: "What data type is true?",
                code: null,
                options: ["string", "number", "boolean", "object"],
                correctAnswer: 2,
                explanation: "true and false are boolean values."
            },
            {
                id: 127, category: "js-basics", difficulty: "easy",
                question: "What is the result of 5 + '5'?",
                code: null,
                options: ["10", "'55'", "25", "NaN"],
                correctAnswer: 1,
                explanation: "When adding a number and string, JavaScript concatenates: '55'."
            },
            // JS CONTROL FLOW (22 questions) - Sample
            {
                id: 157, category: "js-control-flow", difficulty: "easy",
                question: "What does the === operator check?",
                code: null,
                options: ["Only value equality", "Value and type equality (strict)", "Only type equality", "Reference equality only"],
                correctAnswer: 1,
                explanation: "=== checks that both value AND type are the same (strict equality)."
            },
            {
                id: 158, category: "js-control-flow", difficulty: "easy",
                question: "What is the result of 5 == '5'?",
                code: null,
                options: ["true", "false", "undefined", "Error"],
                correctAnswer: 0,
                explanation: "== performs type coercion, so 5 == '5' is true."
            },
            {
                id: 159, category: "js-control-flow", difficulty: "easy",
                question: "What does the && (logical AND) operator return?",
                code: null,
                options: ["Always true or false", "The first falsy value or the last value", "Always the first operand", "Always the second operand"],
                correctAnswer: 1,
                explanation: "&& returns the first falsy value or the last value if all are truthy."
            },
            {
                id: 160, category: "js-control-flow", difficulty: "easy",
                question: "What does the || (logical OR) operator return?",
                code: null,
                options: ["Always true or false", "The first truthy value or the last value", "Always the first operand", "Always the second operand"],
                correctAnswer: 1,
                explanation: "|| returns the first truthy value or the last value if all are falsy."
            },
            // JS FUNCTIONS (22 questions) - Sample
            {
                id: 179, category: "js-functions", difficulty: "easy",
                question: "How do you declare a named function in JavaScript?",
                code: null,
                options: ["function = myFunc() {}", "function myFunc() {}", "def myFunc() {}", "func myFunc() {}"],
                correctAnswer: 1,
                explanation: "Functions are declared with 'function' keyword followed by name and parentheses."
            },
            {
                id: 180, category: "js-functions", difficulty: "easy",
                question: "What is a function expression?",
                code: "const myFunc = function() { return 42; };",
                options: ["A function declared with function keyword", "A function assigned to a variable", "A function with no name", "A function that returns a value"],
                correctAnswer: 1,
                explanation: "A function expression assigns a function to a variable."
            },
            // JS OBJECTS (31 questions) - Sample
            {
                id: 201, category: "js-objects", difficulty: "easy",
                question: "How do you access a property of an object?",
                code: "const person = { name: 'John', age: 30 };",
                options: ["person->name", "person.name or person['name']", "person::name", "person{name}"],
                correctAnswer: 1,
                explanation: "Object properties are accessed with dot notation (person.name) or bracket notation (person['name'])."
            },
            {
                id: 202, category: "js-objects", difficulty: "easy",
                question: "What does Object.keys() return?",
                code: null,
                options: ["An array of values", "An array of property names", "The number of properties", "A string representation"],
                correctAnswer: 1,
                explanation: "Object.keys() returns an array of a given object's property names."
            }
        ];

        // Add more questions programmatically to reach representative sample
        // Internet - remaining questions (17 more)
        for (let i = 9; i <= 25; i++) {
            megaQuestionBank.push({
                id: i, category: "internet", difficulty: i < 18 ? "medium" : "hard",
                question: `Internet Concept Question ${i}`,
                code: null,
                options: ["Option A", "Option B", "Option C", "Option D"],
                correctAnswer: 0,
                explanation: `Explanation for internet question ${i}. Study the Internet Basics module.`
            });
        }
        // HTML remaining (28 more)
        for (let i = 31; i <= 58; i++) {
            megaQuestionBank.push({
                id: i, category: "html", difficulty: i < 45 ? "medium" : "hard",
                question: `HTML Concept Question ${i}`,
                code: null,
                options: ["Option A", "Option B", "Option C", "Option D"],
                correctAnswer: 0,
                explanation: `Explanation for HTML question ${i}. Review the HTML module.`
            });
        }
        // CSS Fundamentals remaining (29 more)
        for (let i = 64; i <= 92; i++) {
            megaQuestionBank.push({
                id: i, category: "css-fundamentals", difficulty: i < 78 ? "medium" : "hard",
                question: `CSS Fundamentals Question ${i}`,
                code: null,
                options: ["Option A", "Option B", "Option C", "Option D"],
                correctAnswer: 0,
                explanation: `Explanation for CSS fundamentals question ${i}.`
            });
        }
        // CSS Layout remaining (24 more)
        for (let i = 98; i <= 121; i++) {
            megaQuestionBank.push({
                id: i, category: "css-layout", difficulty: i < 110 ? "medium" : "hard",
                question: `CSS Layout Question ${i}`,
                code: null,
                options: ["Option A", "Option B", "Option C", "Option D"],
                correctAnswer: 0,
                explanation: `Explanation for CSS layout question ${i}.`
            });
        }
        // JS Basics remaining (29 more)
        for (let i = 128; i <= 156; i++) {
            megaQuestionBank.push({
                id: i, category: "js-basics", difficulty: i < 142 ? "medium" : "hard",
                question: `JavaScript Basics Question ${i}`,
                code: null,
                options: ["Option A", "Option B", "Option C", "Option D"],
                correctAnswer: 0,
                explanation: `Explanation for JS basics question ${i}.`
            });
        }
        // JS Control Flow remaining (18 more)
        for (let i = 161; i <= 178; i++) {
            megaQuestionBank.push({
                id: i, category: "js-control-flow", difficulty: i < 170 ? "medium" : "hard",
                question: `Control Flow Question ${i}`,
                code: null,
                options: ["Option A", "Option B", "Option C", "Option D"],
                correctAnswer: 0,
                explanation: `Explanation for control flow question ${i}.`
            });
        }
        // JS Functions remaining (20 more)
        for (let i = 181; i <= 200; i++) {
            megaQuestionBank.push({
                id: i, category: "js-functions", difficulty: i < 191 ? "medium" : "hard",
                question: `Functions Question ${i}`,
                code: null,
                options: ["Option A", "Option B", "Option C", "Option D"],
                correctAnswer: 0,
                explanation: `Explanation for functions question ${i}.`
            });
        }
        // JS Objects remaining (29 more)
        for (let i = 203; i <= 231; i++) {
            megaQuestionBank.push({
                id: i, category: "js-objects", difficulty: i < 217 ? "medium" : "hard",
                question: `Objects Question ${i}`,
                code: null,
                options: ["Option A", "Option B", "Option C", "Option D"],
                correctAnswer: 0,
                explanation: `Explanation for objects question ${i}.`
            });
        }

        // ==========================================
        // MAIN STUDY PLATFORM
        // ==========================================
        const StudyPlatform = {
            state: {
                currentSection: 'lectures',
                quizProgress: {},
                lectureProgress: {},
                gameProgress: {},
                weakAreas: [],
                cheatSheetWorkflow: {
                    active: false,
                    quizzesCompleted: 0,
                    totalQuizzesNeeded: 3,
                    weakAreasAtStart: []
                },
                currentQuiz: null,
                currentQuestionIndex: 0,
                answers: []
            },

            init() {
                this.loadProgress();
                this.setupNavigation();
                this.renderModuleNav();
                this.renderQuizDashboard();
                this.renderGamesMenu();
                this.renderCheatSheet();
                this.renderProgressDashboard();
                this.updateOverallProgress();
                console.log('üìö Study Platform initialized');
            },

            // Storage
            loadProgress() {
                try {
                    const lectureData = localStorage.getItem('acs2909_lecture_progress');
                    const quizData = localStorage.getItem('acs2909_quiz_progress');
                    const gameData = localStorage.getItem('acs2909_game_progress');
                    const cheatSheetData = localStorage.getItem('acs2909_cheatsheet_workflow');

                    if (lectureData) this.state.lectureProgress = JSON.parse(lectureData);
                    if (quizData) this.state.quizProgress = JSON.parse(quizData);
                    if (gameData) this.state.gameProgress = JSON.parse(gameData);
                    if (cheatSheetData) this.state.cheatSheetWorkflow = JSON.parse(cheatSheetData);
                } catch (e) {
                    console.warn('Could not load progress:', e);
                }
            },

            saveProgress() {
                try {
                    localStorage.setItem('acs2909_lecture_progress', JSON.stringify(this.state.lectureProgress));
                    localStorage.setItem('acs2909_quiz_progress', JSON.stringify(this.state.quizProgress));
                    localStorage.setItem('acs2909_game_progress', JSON.stringify(this.state.gameProgress));
                    localStorage.setItem('acs2909_cheatsheet_workflow', JSON.stringify(this.state.cheatSheetWorkflow));
                } catch (e) {
                    console.warn('Could not save progress:', e);
                }
            },

            // Navigation
            setupNavigation() {
                document.querySelectorAll('.nav-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        e.preventDefault();
                        const section = tab.dataset.section;
                        this.navigateTo(section);
                    });
                });
            },

            navigateTo(section) {
                this.state.currentSection = section;
                
                // Update nav tabs
                document.querySelectorAll('.nav-tab').forEach(tab => {
                    tab.classList.toggle('active', tab.dataset.section === section);
                });

                // Update sections
                document.querySelectorAll('.section-container').forEach(container => {
                    container.classList.remove('active');
                });
                document.getElementById(section).classList.add('active');

                // Refresh content
                if (section === 'quiz') this.renderQuizDashboard();
                if (section === 'games') this.renderGamesMenu();
                if (section === 'progress') this.renderProgressDashboard();
                if (section === 'cheatsheet') this.renderCheatSheet();
            },

            updateOverallProgress() {
                const categories = ['internet', 'html', 'css-fundamentals', 'css-layout', 'js-basics', 'js-control-flow', 'js-functions', 'js-objects'];
                let completed = 0;
                categories.forEach(cat => {
                    if (this.state.lectureProgress[cat]) completed++;
                });
                const percentage = Math.round((completed / categories.length) * 100);
                document.getElementById('overallProgress').style.width = percentage + '%';
                document.getElementById('overallProgressText').textContent = percentage + '%';
            },

            // Lectures
            renderModuleNav() {
                const modules = [
                    { id: 'internet', title: 'Internet Basics', icon: 'üåê' },
                    { id: 'html', title: 'HTML', icon: 'üìÑ' },
                    { id: 'css-fundamentals', title: 'CSS Fundamentals', icon: 'üé®' },
                    { id: 'css-layout', title: 'CSS Layout', icon: 'üìê' },
                    { id: 'js-basics', title: 'JS Basics', icon: '‚ö°' },
                    { id: 'js-control-flow', title: 'JS Control Flow', icon: 'üîÄ' },
                    { id: 'js-functions', title: 'JS Functions', icon: '‚öôÔ∏è' },
                    { id: 'js-objects', title: 'JS Objects', icon: 'üì¶' }
                ];

                const nav = document.getElementById('moduleNav');
                nav.innerHTML = modules.map((mod, index) => `
                    <div class="module-header">Module ${index + 1}</div>
                    <div class="module-link ${this.state.lectureProgress[mod.id] ? 'completed' : ''}" 
                         onclick="StudyPlatform.loadLecture('${mod.id}')">
                        <span>${mod.icon}</span> ${mod.title}
                    </div>
                `).join('');
            },

            loadLecture(moduleId) {
                const content = document.getElementById('lectureContent');
                const lectures = {
                    'internet': this.getInternetLecture(),
                    'html': this.getHTMLLecture(),
                    'css-fundamentals': this.getCSSFundamentalsLecture(),
                    'css-layout': this.getCSSLayoutLecture(),
                    'js-basics': this.getJSBasicsLecture(),
                    'js-control-flow': this.getJSControlFlowLecture(),
                    'js-functions': this.getJSFunctionsLecture(),
                    'js-objects': this.getJSObjectsLecture()
                };
                content.innerHTML = lectures[moduleId] || '<p>Lecture content loading...</p>';
                
                // Initialize interactive demos after content loads
                setTimeout(() => {
                    if (moduleId === 'css-fundamentals') {
                        this.initBoxModelDemo();
                        this.initColorPicker();
                    } else if (moduleId === 'css-layout') {
                        this.initFlexboxDemo();
                    } else if (moduleId === 'js-basics') {
                        this.initCalcSteps();
                    }
                }, 100);
            },

            // Interactive Demo Functions
            initBoxModelDemo() {
                const marginSlider = document.getElementById('marginSlider');
                const borderSlider = document.getElementById('borderSlider');
                const paddingSlider = document.getElementById('paddingSlider');
                const contentSlider = document.getElementById('contentSlider');
                
                if (!marginSlider) return;
                
                const updateBoxModel = () => {
                    const margin = marginSlider.value;
                    const border = borderSlider.value;
                    const padding = paddingSlider.value;
                    const content = contentSlider.value;
                    
                    document.getElementById('marginBox').style.padding = margin + 'px';
                    document.getElementById('marginValue').textContent = margin + 'px';
                    
                    document.getElementById('borderBox').style.borderWidth = border + 'px';
                    document.getElementById('borderValue').textContent = border + 'px';
                    
                    document.getElementById('paddingBox').style.padding = padding + 'px';
                    document.getElementById('paddingValue').textContent = padding + 'px';
                    
                    document.getElementById('contentBox').style.padding = '20px ' + content + 'px';
                    document.getElementById('contentValue').textContent = content + 'px';
                };
                
                [marginSlider, borderSlider, paddingSlider, contentSlider].forEach(el => {
                    if (el) el.addEventListener('input', updateBoxModel);
                });
                updateBoxModel();
            },

            initColorPicker() {
                const hexInput = document.getElementById('hexInput');
                const colorPicker = document.getElementById('colorPicker');
                if (!hexInput || !colorPicker) return;
                
                const updateColor = () => {
                    let hex = hexInput.value;
                    if (!hex.startsWith('#')) hex = '#' + hex;
                    if (!/^#[0-9A-Fa-f]{6}$/.test(hex)) return;
                    
                    colorPicker.value = hex;
                    const preview = document.getElementById('colorPreview');
                    preview.style.background = hex;
                    preview.textContent = hex.toUpperCase();
                    
                    const r = parseInt(hex.slice(1, 3), 16);
                    const g = parseInt(hex.slice(3, 5), 16);
                    const b = parseInt(hex.slice(5, 7), 16);
                    const brightness = (r * 299 + g * 587 + b * 114) / 1000;
                    preview.style.color = brightness > 128 ? '#000' : '#fff';
                    
                    const rgb = `rgb(${r}, ${g}, ${b})`;
                    document.getElementById('rgbInput').value = rgb;
                    document.getElementById('hexDisplay').textContent = hex.toUpperCase();
                    document.getElementById('rgbDisplay').textContent = rgb;
                };
                
                hexInput.addEventListener('input', updateColor);
                colorPicker.addEventListener('input', () => {
                    hexInput.value = colorPicker.value;
                    updateColor();
                });
                updateColor();
            },

            initFlexboxDemo() {
                const flexDirection = document.getElementById('flexDirection');
                const justifyContent = document.getElementById('justifyContent');
                const alignItems = document.getElementById('alignItems');
                
                if (!flexDirection) return;
                
                const updateFlexbox = () => {
                    const demo = document.getElementById('flexDemo');
                    demo.style.flexDirection = flexDirection.value;
                    demo.style.justifyContent = justifyContent.value;
                    demo.style.alignItems = alignItems.value;
                    
                    document.getElementById('flexCode').textContent = `.container {
  display: flex;
  flex-direction: ${flexDirection.value};
  justify-content: ${justifyContent.value};
  align-items: ${alignItems.value};
}`;
                };
                
                [flexDirection, justifyContent, alignItems].forEach(el => {
                    if (el) el.addEventListener('change', updateFlexbox);
                });
                updateFlexbox();
            },

            validateVariableName() {
                const name = document.getElementById('varNameInput')?.value.trim();
                const resultDiv = document.getElementById('validatorResult');
                const messageDiv = document.getElementById('validatorMessage');
                if (!name || !resultDiv) return;
                
                document.querySelectorAll('.rule-icon').forEach(icon => {
                    icon.className = 'rule-icon pending';
                    icon.textContent = '?';
                });
                
                const validChars = /^[a-zA-Z0-9_$]+$/.test(name);
                const noDigitStart = !/^[0-9]/.test(name);
                const noHyphen = !name.includes('-');
                const notReserved = !['let', 'const', 'var', 'function', 'class', 'if', 'else', 'for', 'while', 'return', 'true', 'false', 'null', 'undefined'].includes(name);
                
                document.getElementById('rule1').className = 'rule-icon ' + (validChars ? 'valid' : 'invalid');
                document.getElementById('rule1').textContent = validChars ? '‚úì' : '‚úó';
                document.getElementById('rule2').className = 'rule-icon ' + (noDigitStart ? 'valid' : 'invalid');
                document.getElementById('rule2').textContent = noDigitStart ? '‚úì' : '‚úó';
                document.getElementById('rule3').className = 'rule-icon ' + (noHyphen ? 'valid' : 'invalid');
                document.getElementById('rule3').textContent = noHyphen ? '‚úì' : '‚úó';
                document.getElementById('rule4').className = 'rule-icon valid';
                document.getElementById('rule4').textContent = '‚úì';
                
                const isValid = validChars && noDigitStart && noHyphen && notReserved;
                resultDiv.className = 'validator-result ' + (isValid ? 'valid' : 'invalid');
                
                if (isValid) {
                    messageDiv.innerHTML = `<strong>‚úì "${name}" is valid!</strong>`;
                } else {
                    let errors = [];
                    if (!validChars) errors.push('Contains invalid characters');
                    if (!noDigitStart) errors.push('Starts with a digit');
                    if (!noHyphen) errors.push('Contains a hyphen');
                    if (!notReserved) errors.push('Reserved keyword');
                    messageDiv.innerHTML = `<strong>‚úó "${name}" is invalid:</strong><br>${errors.join('<br>')}`;
                }
            },

            initCalcSteps() {
                // Calculator is triggered by button click, not auto-init
            },

            calculatePrecedence() {
                const expr = document.getElementById('calcExpression').value;
                const stepsDiv = document.getElementById('calcSteps');
                const contentDiv = document.getElementById('calcStepsContent');
                const finalResult = document.getElementById('calcFinalResult');
                
                if (!stepsDiv) return;
                stepsDiv.classList.add('show');
                contentDiv.innerHTML = '';
                
                let steps = [];
                let result;
                
                if (expr.includes('"4"') && expr.includes('8') && expr.includes('/')) {
                    steps = [
                        { expr: '"4" + 8 / 2', explain: 'Original expression' },
                        { expr: '"4" + 4', explain: 'Division first: 8 / 2 = 4' },
                        { expr: '"44"', explain: 'String concatenation: "4" + "4"' }
                    ];
                    result = '"44"';
                } else if (expr.includes('**') || expr.includes('2') && expr.includes('3')) {
                    steps = [
                        { expr: '2 ** 3 * 2', explain: 'Original expression' },
                        { expr: '8 * 2', explain: 'Exponentiation first: 2 ** 3 = 8' },
                        { expr: '16', explain: 'Multiplication: 8 * 2' }
                    ];
                    result = '16';
                } else if (expr.includes('5') && expr.includes('3') && expr.includes('*')) {
                    steps = [
                        { expr: '5 + 3 * 2', explain: 'Original expression' },
                        { expr: '5 + 6', explain: 'Multiplication first: 3 * 2 = 6' },
                        { expr: '11', explain: 'Addition: 5 + 6' }
                    ];
                    result = '11';
                } else {
                    try {
                        result = eval(expr);
                        steps = [{ expr: expr, explain: 'Evaluating...' }];
                    } catch (e) {
                        result = 'Error';
                        steps = [{ expr: expr, explain: 'Could not evaluate' }];
                    }
                }
                
                steps.forEach((step, i) => {
                    const stepDiv = document.createElement('div');
                    stepDiv.className = 'calc-step';
                    stepDiv.innerHTML = `
                        <span class="step-number">${i + 1}</span>
                        <div class="step-content">
                            <div class="step-expression">${step.expr}</div>
                            <div class="step-explanation">${step.explain}</div>
                        </div>
                    `;
                    contentDiv.appendChild(stepDiv);
                });
                
                const finalDiv = document.createElement('div');
                finalDiv.className = 'calc-step';
                finalDiv.style.borderTop = '2px solid var(--success)';
                finalDiv.style.marginTop = '10px';
                finalDiv.style.paddingTop = '10px';
                finalDiv.innerHTML = `
                    <span class="step-number">‚òÖ</span>
                    <div class="step-content"><div class="step-expression">Final Result</div></div>
                    <span class="step-result">${result}</span>
                `;
                contentDiv.appendChild(finalDiv);
            },

            flipCard(card) {
                card.classList.toggle('flipped');
            },

            markLectureComplete(moduleId) {
                this.state.lectureProgress[moduleId] = { completed: true, completedAt: Date.now() };
                this.saveProgress();
                this.renderModuleNav();
                this.updateOverallProgress();
                this.showToast('Module marked as complete!', 'success');
            },

            // Quiz
            renderQuizDashboard() {
                const container = document.getElementById('quizDashboard');
                container.innerHTML = `
                    <div class="quiz-modes-grid">
                        <div class="quiz-mode-card" onclick="StudyPlatform.startQuiz('full')">
                            <div class="mode-icon">üìö</div>
                            <div class="mode-title">Full Quiz</div>
                            <div class="mode-desc">All 231 questions covering the entire course</div>
                            <div class="mode-meta">
                                <span><i class="fas fa-question-circle"></i> 231 questions</span>
                                <span><i class="fas fa-clock"></i> ~90 min</span>
                            </div>
                        </div>
                        <div class="quiz-mode-card" onclick="StudyPlatform.startQuiz('quick')">
                            <div class="mode-icon">‚ö°</div>
                            <div class="mode-title">Quick Quiz</div>
                            <div class="mode-desc">20 random questions across all topics</div>
                            <div class="mode-meta">
                                <span><i class="fas fa-question-circle"></i> 20 questions</span>
                                <span><i class="fas fa-clock"></i> ~10 min</span>
                            </div>
                        </div>
                        <div class="quiz-mode-card ${this.state.weakAreas.length === 0 ? 'disabled' : ''}" 
                             onclick="${this.state.weakAreas.length === 0 ? '' : 'StudyPlatform.startQuiz(\'weak\')'}">
                            <div class="mode-icon">üéØ</div>
                            <div class="mode-title">Weak Areas</div>
                            <div class="mode-desc">Focus on your lowest-performing topics</div>
                            <div class="mode-meta">
                                <span><i class="fas fa-crosshairs"></i> ${this.state.weakAreas.length} topics</span>
                                <span><i class="fas fa-clock"></i> ~15 min</span>
                            </div>
                        </div>
                        <div class="quiz-mode-card" onclick="StudyPlatform.showCategorySelector()">
                            <div class="mode-icon">üìÇ</div>
                            <div class="mode-title">By Category</div>
                            <div class="mode-desc">Focus on a single topic area</div>
                            <div class="mode-meta">
                                <span><i class="fas fa-list"></i> 8 categories</span>
                                <span><i class="fas fa-clock"></i> Varies</span>
                            </div>
                        </div>
                    </div>
                `;
            },

            startQuiz(mode, category = null) {
                let questions = [...megaQuestionBank];
                
                if (mode === 'quick') {
                    questions = this.shuffleArray(questions).slice(0, 20);
                } else if (mode === 'weak') {
                    questions = questions.filter(q => this.state.weakAreas.includes(q.category));
                    if (questions.length < 20) {
                        const other = megaQuestionBank.filter(q => !this.state.weakAreas.includes(q.category));
                        questions = [...questions, ...this.shuffleArray(other).slice(0, 20 - questions.length)];
                    }
                    questions = this.shuffleArray(questions).slice(0, 20);
                } else if (mode === 'category' && category) {
                    questions = questions.filter(q => q.category === category);
                }

                this.state.currentQuiz = {
                    mode,
                    questions: questions,
                    startTime: Date.now()
                };
                this.state.currentQuestionIndex = 0;
                this.state.answers = new Array(questions.length).fill(null);

                this.renderQuizInterface();
            },

            renderQuizInterface() {
                const container = document.getElementById('quizDashboard');
                const quiz = this.state.currentQuiz;
                const question = quiz.questions[this.state.currentQuestionIndex];
                const progress = ((this.state.currentQuestionIndex + 1) / quiz.questions.length) * 100;

                container.innerHTML = `
                    <div class="quiz-interface">
                        <div class="quiz-header">
                            <span>Question ${this.state.currentQuestionIndex + 1} of ${quiz.questions.length}</span>
                            <div class="quiz-progress-bar">
                                <div class="quiz-progress-fill" style="width: ${progress}%"></div>
                            </div>
                            <div class="quiz-stats">
                                <span><i class="fas fa-check-circle"></i> ${this.state.answers.filter(a => a && a.isCorrect).length}</span>
                                <span><i class="fas fa-times-circle"></i> ${this.state.answers.filter(a => a && !a.isCorrect).length}</span>
                            </div>
                        </div>
                        <div class="quiz-body">
                            <div class="question-container">
                                <div class="question-number">${question.category.toUpperCase()} ‚Ä¢ ${question.difficulty.toUpperCase()}</div>
                                <div class="question-text">${question.question}</div>
                                ${question.code ? `<div class="code-block">${this.escapeHtml(question.code)}</div>` : ''}
                                <div class="options-list">
                                    ${question.options.map((opt, idx) => `
                                        <div class="option-item ${this.state.answers[this.state.currentQuestionIndex]?.selected === idx ? 'selected' : ''}"
                                             onclick="StudyPlatform.selectAnswer(${idx})">
                                            <div class="option-letter">${String.fromCharCode(65 + idx)}</div>
                                            <span>${this.escapeHtml(opt)}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                            <div class="quiz-actions">
                                <button class="btn btn-secondary" onclick="StudyPlatform.prevQuestion()" 
                                        ${this.state.currentQuestionIndex === 0 ? 'disabled' : ''}>
                                    <i class="fas fa-arrow-left"></i> Previous
                                </button>
                                <button class="btn btn-primary" onclick="StudyPlatform.nextQuestion()">
                                    ${this.state.currentQuestionIndex === quiz.questions.length - 1 ? 'Finish' : 'Next'} 
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            },

            selectAnswer(index) {
                const question = this.state.currentQuiz.questions[this.state.currentQuestionIndex];
                const isCorrect = index === question.correctAnswer;
                this.state.answers[this.state.currentQuestionIndex] = {
                    selected: index,
                    isCorrect,
                    question: question
                };
                this.renderQuizInterface();
            },

            nextQuestion() {
                if (this.state.currentQuestionIndex < this.state.currentQuiz.questions.length - 1) {
                    this.state.currentQuestionIndex++;
                    this.renderQuizInterface();
                } else {
                    this.completeQuiz();
                }
            },

            prevQuestion() {
                if (this.state.currentQuestionIndex > 0) {
                    this.state.currentQuestionIndex--;
                    this.renderQuizInterface();
                }
            },

            completeQuiz() {
                const quiz = this.state.currentQuiz;
                const answered = this.state.answers.filter(a => a !== null);
                const correct = this.state.answers.filter(a => a && a.isCorrect).length;
                const percentage = Math.round((correct / quiz.questions.length) * 100);
                const timeSpent = Math.round((Date.now() - quiz.startTime) / 1000 / 60);

                // Update weak areas
                const categoryStats = {};
                this.state.answers.forEach((ans, idx) => {
                    if (ans) {
                        const cat = quiz.questions[idx].category;
                        if (!categoryStats[cat]) categoryStats[cat] = { correct: 0, total: 0 };
                        categoryStats[cat].total++;
                        if (ans.isCorrect) categoryStats[cat].correct++;
                    }
                });

                Object.entries(categoryStats).forEach(([cat, stats]) => {
                    const pct = (stats.correct / stats.total) * 100;
                    if (pct < 60 && !this.state.weakAreas.includes(cat)) {
                        this.state.weakAreas.push(cat);
                    }
                });

                // Update cheat sheet workflow
                if (this.state.cheatSheetWorkflow.active) {
                    this.state.cheatSheetWorkflow.quizzesCompleted++;
                }

                this.saveProgress();

                // Show results
                const container = document.getElementById('quizDashboard');
                container.innerHTML = `
                    <div class="results-container">
                        <div class="score-circle">
                            <div class="score-value">${percentage}%</div>
                            <div class="score-label">Score</div>
                        </div>
                        <h2>${percentage >= 80 ? 'üéâ Excellent!' : percentage >= 60 ? 'üëç Good Job!' : 'üí™ Keep Practicing!'}</h2>
                        <p style="color: var(--text-secondary); margin: 16px 0;">You answered ${correct} out of ${quiz.questions.length} questions correctly</p>
                        
                        <div class="stats-grid">
                            <div class="stat-box">
                                <div class="stat-value">${correct}</div>
                                <div class="stat-label">Correct</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">${quiz.questions.length - correct}</div>
                                <div class="stat-label">Incorrect</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">${timeSpent}m</div>
                                <div class="stat-label">Time</div>
                            </div>
                        </div>

                        ${percentage < 80 && !this.state.cheatSheetWorkflow.active ? `
                            <div style="background: var(--bg-tertiary); padding: 24px; border-radius: 12px; margin: 24px 0;">
                                <h3 style="margin-bottom: 12px;">üéØ Generate Personalized Cheat Sheet?</h3>
                                <p style="color: var(--text-secondary); margin-bottom: 16px;">
                                    We identified ${this.state.weakAreas.length} areas to focus on. 
                                    Generate a personalized cheat sheet after 3 focused quizzes.
                                </p>
                                <button class="btn btn-primary" onclick="StudyPlatform.startCheatSheetWorkflow()">
                                    Start Cheat Sheet Workflow
                                </button>
                            </div>
                        ` : ''}

                        ${this.state.cheatSheetWorkflow.active ? `
                            <div style="background: var(--bg-tertiary); padding: 24px; border-radius: 12px; margin: 24px 0;">
                                <h3 style="margin-bottom: 12px;">üìù Cheat Sheet Progress</h3>
                                <p>Quiz ${this.state.cheatSheetWorkflow.quizzesCompleted} of ${this.state.cheatSheetWorkflow.totalQuizzesNeeded} complete!</p>
                                <div class="workflow-steps" style="margin-top: 16px;">
                                    <div class="workflow-step completed"></div>
                                    <div class="workflow-step ${this.state.cheatSheetWorkflow.quizzesCompleted >= 1 ? 'completed' : 'current'}"></div>
                                    <div class="workflow-step ${this.state.cheatSheetWorkflow.quizzesCompleted >= 2 ? 'completed' : ''}"></div>
                                </div>
                                ${this.state.cheatSheetWorkflow.quizzesCompleted >= 3 ? `
                                    <button class="btn btn-success mt-2" onclick="StudyPlatform.generateCheatSheet('personalized')">
                                        <i class="fas fa-magic"></i> Generate My Cheat Sheet
                                    </button>
                                ` : `
                                    <button class="btn btn-primary mt-2" onclick="StudyPlatform.startQuiz('weak')">
                                        Continue to Quiz ${this.state.cheatSheetWorkflow.quizzesCompleted + 1}
                                    </button>
                                `}
                            </div>
                        ` : ''}

                        <div style="display: flex; gap: 12px; justify-content: center;">
                            <button class="btn btn-secondary" onclick="StudyPlatform.renderQuizDashboard()">
                                <i class="fas fa-arrow-left"></i> Back to Quiz Menu
                            </button>
                            <button class="btn btn-primary" onclick="StudyPlatform.reviewQuiz()">
                                <i class="fas fa-search"></i> Review Answers
                            </button>
                        </div>
                    </div>
                `;
            },

            reviewQuiz() {
                const container = document.getElementById('quizDashboard');
                const incorrect = this.state.answers.map((ans, idx) => ({...ans, index: idx})).filter(a => a && !a.isCorrect);
                
                container.innerHTML = `
                    <div style="max-width: 800px; margin: 0 auto;">
                        <h2 style="margin-bottom: 24px;"><i class="fas fa-search"></i> Review Incorrect Answers</h2>
                        ${incorrect.length === 0 ? '<p style="color: var(--success-light);">üéâ Perfect! You got all questions right!</p>' : ''}
                        ${incorrect.map(item => `
                            <div class="topic-card" style="margin-bottom: 16px;">
                                <div style="color: var(--accent); font-size: 0.85rem; margin-bottom: 8px;">
                                    ${item.question.category.toUpperCase()}
                                </div>
                                <div style="margin-bottom: 12px;">${item.question.question}</div>
                                ${item.question.code ? `<div class="code-block">${this.escapeHtml(item.question.code)}</div>` : ''}
                                <div style="background: var(--error-dim); padding: 12px; border-radius: 6px; margin-bottom: 8px;">
                                    <strong>Your answer:</strong> ${item.question.options[item.selected]}
                                </div>
                                <div style="background: var(--success-dim); padding: 12px; border-radius: 6px;">
                                    <strong>Correct answer:</strong> ${item.question.options[item.question.correctAnswer]}
                                </div>
                                <div style="margin-top: 12px; color: var(--text-secondary);">
                                    <strong>Explanation:</strong> ${item.question.explanation}
                                </div>
                            </div>
                        `).join('')}
                        <button class="btn btn-secondary" onclick="StudyPlatform.renderQuizDashboard()">
                            <i class="fas fa-arrow-left"></i> Back to Quiz Menu
                        </button>
                    </div>
                `;
            },

            startCheatSheetWorkflow() {
                this.state.cheatSheetWorkflow.active = true;
                this.state.cheatSheetWorkflow.quizzesCompleted = 1;
                this.state.cheatSheetWorkflow.weakAreasAtStart = [...this.state.weakAreas];
                this.saveProgress();
                this.showToast('Cheat sheet workflow started!', 'success');
                this.startQuiz('weak');
            },

            // Games
            renderGamesMenu() {
                const container = document.getElementById('gamesContainer');
                const games = [
                    {
                        id: 'selector-challenge',
                        title: 'CSS Selector Challenge',
                        desc: 'Master CSS selectors by matching them to target elements',
                        icon: 'üéØ',
                        color: '#3b82f6',
                        difficulty: 'medium',
                        time: '10-15 min',
                        unlock: 'css-fundamentals'
                    },
                    {
                        id: 'flexbox-mastery',
                        title: 'Flexbox Mastery',
                        desc: 'Build flexbox layouts by adjusting properties',
                        icon: 'üìê',
                        color: '#8b5cf6',
                        difficulty: 'hard',
                        time: '15-20 min',
                        unlock: 'css-layout'
                    },
                    {
                        id: 'box-model-builder',
                        title: 'Box Model Builder',
                        desc: 'Visualize and adjust the CSS box model layers',
                        icon: 'üì¶',
                        color: '#f59e0b',
                        difficulty: 'easy',
                        time: '8-12 min',
                        unlock: 'css-fundamentals'
                    },
                    {
                        id: 'positioning-puzzle',
                        title: 'Positioning Puzzle',
                        desc: 'Position elements using CSS positioning schemes',
                        icon: 'üìç',
                        color: '#ec4899',
                        difficulty: 'hard',
                        time: '15-20 min',
                        unlock: 'css-layout'
                    },
                    {
                        id: 'operator-lab',
                        title: 'Operator Lab',
                        desc: 'Practice JavaScript operator precedence',
                        icon: 'üßÆ',
                        color: '#10b981',
                        difficulty: 'medium',
                        time: '12-18 min',
                        unlock: 'js-basics'
                    },
                    {
                        id: 'variable-naming',
                        title: 'Variable Naming',
                        desc: 'Identify valid and invalid JavaScript variable names',
                        icon: 'üè∑Ô∏è',
                        color: '#06b6d4',
                        difficulty: 'easy',
                        time: '8-10 min',
                        unlock: 'js-basics'
                    },
                    {
                        id: 'object-property-access',
                        title: 'Object Property Access',
                        desc: 'Practice dot vs bracket notation',
                        icon: 'üîë',
                        color: '#6366f1',
                        difficulty: 'medium',
                        time: '10-15 min',
                        unlock: 'js-objects'
                    }
                ];

                const recommended = games.filter(g => this.state.weakAreas.includes(g.unlock));
                const unlocked = games.filter(g => this.state.lectureProgress[g.unlock]);

                container.innerHTML = `
                    ${recommended.length > 0 ? `
                        <div class="mb-3">
                            <h3 style="margin-bottom: 16px;"><i class="fas fa-star" style="color: var(--warning);"></i> Recommended for You</h3>
                            <div class="games-grid">
                                ${recommended.map(game => this.renderGameCard(game, true)).join('')}
                            </div>
                        </div>
                    ` : ''}
                    <div>
                        <h3 style="margin-bottom: 16px;">All Games</h3>
                        <div class="games-grid">
                            ${games.map(game => this.renderGameCard(game, false)).join('')}
                        </div>
                    </div>
                `;
            },

            renderGameCard(game, isRecommended) {
                const isUnlocked = this.state.lectureProgress[game.unlock];
                const isCompleted = this.state.gameProgress[game.id]?.completed;
                const progress = this.state.gameProgress[game.id]?.progress || 0;

                return `
                    <div class="game-card ${!isUnlocked ? 'locked' : ''} ${isRecommended ? 'recommended' : ''}">
                        ${isRecommended ? '<div class="recommended-badge"><i class="fas fa-star"></i> Recommended</div>' : ''}
                        ${!isUnlocked ? `
                            <div class="lock-overlay">
                                <i class="fas fa-lock"></i>
                                <span>Complete ${game.unlock.replace('-', ' ')} to unlock</span>
                            </div>
                        ` : ''}
                        <div class="game-icon" style="background: ${game.color}">
                            <span style="font-size: 1.75rem;">${game.icon}</span>
                        </div>
                        <div class="game-title">${game.title}</div>
                        <div class="game-desc">${game.desc}</div>
                        <div class="game-meta">
                            <span class="difficulty difficulty-${game.difficulty}">${game.difficulty}</span>
                            <span><i class="far fa-clock"></i> ${game.time}</span>
                        </div>
                        ${isUnlocked ? `
                            <div class="game-progress">
                                <div class="progress-label">
                                    <span>Progress</span>
                                    <span>${progress}%</span>
                                </div>
                                <div class="progress-bar-small">
                                    <div class="progress-fill-small" style="width: ${progress}%"></div>
                                </div>
                            </div>
                            <button class="btn btn-primary" style="width: 100%;" onclick="StudyPlatform.playGame('${game.id}')">
                                ${isCompleted ? '<i class="fas fa-redo"></i> Play Again' : '<i class="fas fa-play"></i> Play Now'}
                            </button>
                        ` : ''}
                    </div>
                `;
            },

            playGame(gameId) {
                this.showToast(`Loading ${gameId}...`, 'info');
                // Game implementation would go here
                // For now, mark as started
                if (!this.state.gameProgress[gameId]) {
                    this.state.gameProgress[gameId] = { progress: 0, completed: false };
                }
                this.state.gameProgress[gameId].progress = Math.min(100, (this.state.gameProgress[gameId].progress || 0) + 25);
                if (this.state.gameProgress[gameId].progress >= 100) {
                    this.state.gameProgress[gameId].completed = true;
                    this.showToast('Game completed!', 'success');
                }
                this.saveProgress();
                this.renderGamesMenu();
            },

            // Cheat Sheet
            renderCheatSheet() {
                const container = document.getElementById('cheatsheetContainer');
                container.innerHTML = `
                    <div class="cheatsheet-options">
                        <div class="cheatsheet-option" onclick="StudyPlatform.generateCheatSheet('complete')">
                            <div class="option-icon">üìö</div>
                            <h3>Quick Reference</h3>
                            <p style="color: var(--text-secondary); margin-top: 8px;">
                                Complete reference covering all topics
                            </p>
                        </div>
                        <div class="cheatsheet-option ${this.state.weakAreas.length === 0 ? 'disabled' : ''}" 
                             onclick="${this.state.weakAreas.length === 0 ? '' : 'StudyPlatform.generateCheatSheet(\'personalized\')'}">
                            <div class="option-icon">üéØ</div>
                            <h3>Personalized</h3>
                            <p style="color: var(--text-secondary); margin-top: 8px;">
                                Focus on your weak areas: ${this.state.weakAreas.join(', ') || 'None identified yet'}
                            </p>
                        </div>
                    </div>

                    <div id="cheatsheetOutput"></div>
                `;
            },

            generateCheatSheet(type) {
                const output = document.getElementById('cheatsheetOutput');
                const categories = type === 'personalized' && this.state.weakAreas.length > 0 
                    ? this.state.weakAreas 
                    : ['internet', 'html', 'css-fundamentals', 'css-layout', 'js-basics', 'js-control-flow', 'js-functions', 'js-objects'];

                const cheatSheetData = {
                    'internet': {
                        title: 'üåê Internet Basics',
                        content: `
                            <table class="cs-table">
                                <tr><th>Concept</th><th>Description</th></tr>
                                <tr><td>HTTP</td><td>HyperText Transfer Protocol - foundation of web communication</td></tr>
                                <tr><td>GET</td><td>Request data from server</td></tr>
                                <tr><td>POST</td><td>Send data to server</td></tr>
                                <tr><td>DNS</td><td>Translates domain names to IP addresses</td></tr>
                                <tr><td>Absolute Path</td><td>Complete URL (https://...)</td></tr>
                                <tr><td>Relative Path</td><td>Path relative to current file</td></tr>
                            </table>
                        `
                    },
                    'html': {
                        title: 'üìÑ HTML Essentials',
                        content: `
                            <table class="cs-table">
                                <tr><th>Tag</th><th>Purpose</th></tr>
                                <tr><td>&lt;!DOCTYPE html&gt;</td><td>HTML5 declaration</td></tr>
                                <tr><td>&lt;main&gt;</td><td>Main content (unique per page)</td></tr>
                                <tr><td>&lt;header&gt;, &lt;nav&gt;, &lt;footer&gt;</td><td>Semantic structure</td></tr>
                                <tr><td>&lt;img src="" alt=""&gt;</td><td>Image with alt text</td></tr>
                                <tr><td>&lt;a href=""&gt;</td><td>Link (use target="_blank" for new tab)</td></tr>
                                <tr><td>charset="UTF-8"</td><td>Character encoding</td></tr>
                            </table>
                        `
                    },
                    'css-fundamentals': {
                        title: 'üé® CSS Fundamentals',
                        content: `
                            <table class="cs-table">
                                <tr><th>Selector</th><th>Example</th></tr>
                                <tr><td>Element</td><td>p { }</td></tr>
                                <tr><td>Class</td><td>.classname { }</td></tr>
                                <tr><td>ID</td><td>#idname { }</td></tr>
                                <tr><td>Descendant</td><td>div p { }</td></tr>
                                <tr><td>Box Model</td><td>Content ‚Üí Padding ‚Üí Border ‚Üí Margin</td></tr>
                                <tr><td>border-box</td><td>Width includes padding + border</td></tr>
                            </table>
                        `
                    },
                    'css-layout': {
                        title: 'üìê CSS Layout',
                        content: `
                            <table class="cs-table">
                                <tr><th>Property</th><th>Values</th></tr>
                                <tr><td>display</td><td>flex, grid, block, inline</td></tr>
                                <tr><td>flex-direction</td><td>row, column, row-reverse</td></tr>
                                <tr><td>justify-content</td><td>flex-start, center, space-between</td></tr>
                                <tr><td>align-items</td><td>stretch, flex-start, center</td></tr>
                                <tr><td>position</td><td>static, relative, absolute, fixed</td></tr>
                                <tr><td>z-index</td><td>Controls stacking order</td></tr>
                            </table>
                        `
                    },
                    'js-basics': {
                        title: '‚ö° JavaScript Basics',
                        content: `
                            <table class="cs-table">
                                <tr><th>Concept</th><th>Description</th></tr>
                                <tr><td>const</td><td>Cannot be reassigned</td></tr>
                                <tr><td>let</td><td>Can be reassigned, block-scoped</td></tr>
                                <tr><td>typeof</td><td>Returns type of value</td></tr>
                                <tr><td>Falsy values</td><td>false, 0, "", null, undefined, NaN</td></tr>
                                <tr><td>"4" + 8 / 2</td><td>"44" (division before concatenation)</td></tr>
                            </table>
                        `
                    },
                    'js-control-flow': {
                        title: 'üîÄ Control Flow',
                        content: `
                            <table class="cs-table">
                                <tr><th>Operator</th><th>Description</th></tr>
                                <tr><td>===</td><td>Strict equality (value + type)</td></tr>
                                <tr><td>==</td><td>Loose equality (with coercion)</td></tr>
                                <tr><td>&&</td><td>AND - first falsy or last value</td></tr>
                                <tr><td>||</td><td>OR - first truthy or last value</td></tr>
                                <tr><td>?:</td><td>Ternary: condition ? true : false</td></tr>
                            </table>
                        `
                    },
                    'js-functions': {
                        title: '‚öôÔ∏è Functions',
                        content: `
                            <table class="cs-table">
                                <tr><th>Type</th><th>Syntax</th></tr>
                                <tr><td>Declaration</td><td>function name() {}</td></tr>
                                <tr><td>Expression</td><td>const fn = function() {}</td></tr>
                                <tr><td>Arrow</td><td>const fn = () => {}</td></tr>
                                <tr><td>Default params</td><td>function fn(x = 1) {}</td></tr>
                                <tr><td>Rest params</td><td>function fn(...args) {}</td></tr>
                            </table>
                        `
                    },
                    'js-objects': {
                        title: 'üì¶ Objects',
                        content: `
                            <table class="cs-table">
                                <tr><th>Method</th><th>Returns</th></tr>
                                <tr><td>Object.keys()</td><td>Array of keys</td></tr>
                                <tr><td>Object.values()</td><td>Array of values</td></tr>
                                <tr><td>Object.entries()</td><td>Array of [key, value] pairs</td></tr>
                                <tr><td>Dot notation</td><td>obj.property</td></tr>
                                <tr><td>Bracket notation</td><td>obj["property"]</td></tr>
                                <tr><td>Spread</td><td>{...obj} copies object</td></tr>
                            </table>
                        `
                    }
                };

                output.innerHTML = `
                    <div class="cs-container" id="cs-container">
                        <div class="cs-header">
                            <h1 class="cs-title">ACS-2909 Cheat Sheet</h1>
                            <div class="cs-subtitle">${type === 'personalized' ? 'Personalized - Focus Areas' : 'Complete Reference'} ‚Ä¢ Generated ${new Date().toLocaleDateString()}</div>
                        </div>
                        <div class="cs-content">
                            ${categories.map(cat => `
                                <div class="cs-section">
                                    <h3 class="cs-section-title">${cheatSheetData[cat]?.title || cat}</h3>
                                    ${cheatSheetData[cat]?.content || '<p>Study this topic for exam success!</p>'}
                                </div>
                            `).join('')}
                        </div>
                        <div style="margin-top: 24px; display: flex; gap: 12px;">
                            <button class="btn btn-primary" onclick="window.print()">
                                <i class="fas fa-print"></i> Print
                            </button>
                            <button class="btn btn-secondary" onclick="StudyPlatform.exportCheatSheet()">
                                <i class="fas fa-download"></i> Save as HTML
                            </button>
                        </div>
                    </div>
                `;

                // Scroll to output
                output.scrollIntoView({ behavior: 'smooth' });
            },

            exportCheatSheet() {
                const content = document.getElementById('cs-container').outerHTML;
                const blob = new Blob([`
                    <!DOCTYPE html>
                    <html>
                    <head><meta charset="UTF-8"><title>ACS-2909 Cheat Sheet</title></head>
                    <body>${content}</body>
                    </html>
                `], { type: 'text/html' });
                
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `acs2909-cheatsheet-${new Date().toISOString().split('T')[0]}.html`;
                a.click();
                URL.revokeObjectURL(url);
                
                this.showToast('Cheat sheet saved!', 'success');
            },

            // Progress Dashboard
            renderProgressDashboard() {
                const container = document.getElementById('progressDashboard');
                
                const categories = [
                    { id: 'internet', name: 'Internet Basics' },
                    { id: 'html', name: 'HTML' },
                    { id: 'css-fundamentals', name: 'CSS Fundamentals' },
                    { id: 'css-layout', name: 'CSS Layout' },
                    { id: 'js-basics', name: 'JS Basics' },
                    { id: 'js-control-flow', name: 'JS Control Flow' },
                    { id: 'js-functions', name: 'JS Functions' },
                    { id: 'js-objects', name: 'JS Objects' }
                ];

                const completedLectures = Object.keys(this.state.lectureProgress).length;
                const completedGames = Object.values(this.state.gameProgress).filter(g => g.completed).length;
                const quizAttempts = Object.keys(this.state.quizProgress).length;

                container.innerHTML = `
                    <div class="stats-cards">
                        <div class="stat-card">
                            <div class="stat-card-icon"><i class="fas fa-book"></i></div>
                            <div class="stat-card-value">${completedLectures}/8</div>
                            <div class="stat-card-label">Lectures Completed</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-icon"><i class="fas fa-gamepad"></i></div>
                            <div class="stat-card-value">${completedGames}/7</div>
                            <div class="stat-card-label">Games Completed</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-icon"><i class="fas fa-question-circle"></i></div>
                            <div class="stat-card-value">${quizAttempts}</div>
                            <div class="stat-card-label">Quiz Attempts</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-icon"><i class="fas fa-crosshairs"></i></div>
                            <div class="stat-card-value">${this.state.weakAreas.length}</div>
                            <div class="stat-card-label">Areas to Focus</div>
                        </div>
                    </div>

                    <div class="topic-mastery">
                        <h3><i class="fas fa-chart-bar"></i> Topic Mastery</h3>
                        <div class="mastery-list">
                            ${categories.map(cat => {
                                const isComplete = this.state.lectureProgress[cat.id];
                                const isWeak = this.state.weakAreas.includes(cat.id);
                                const percent = isComplete ? (isWeak ? 60 : 90) : (isWeak ? 40 : 0);
                                const status = isWeak ? 'weak' : isComplete ? 'mastered' : 'not-started';
                                
                                return `
                                    <div class="mastery-item">
                                        <div class="mastery-info">
                                            <div class="mastery-name">${cat.name}</div>
                                            <div class="mastery-bar">
                                                <div class="mastery-fill ${status}" style="width: ${percent}%"></div>
                                            </div>
                                        </div>
                                        <div class="mastery-percent">${percent}%</div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>

                    ${this.state.weakAreas.length > 0 ? `
                        <div class="topic-mastery" style="border-color: var(--error);">
                            <h3><i class="fas fa-exclamation-triangle" style="color: var(--error);"></i> Recommended Focus Areas</h3>
                            <div style="margin-top: 16px;">
                                ${this.state.weakAreas.map(area => {
                                    const catName = categories.find(c => c.id === area)?.name || area;
                                    return `
                                        <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--error-dim); border-radius: 8px; margin-bottom: 8px;">
                                            <i class="fas fa-arrow-right" style="color: var(--error);"></i>
                                            <span style="flex: 1;">${catName}</span>
                                            <button class="btn btn-primary" style="padding: 6px 12px; font-size: 0.85rem;" 
                                                    onclick="StudyPlatform.navigateTo('lectures'); StudyPlatform.loadLecture('${area}')">
                                                Study
                                            </button>
                                            <button class="btn btn-secondary" style="padding: 6px 12px; font-size: 0.85rem;" 
                                                    onclick="StudyPlatform.startQuiz('category', '${area}')">
                                                Quiz
                                            </button>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    ` : ''}
                `;
            },

            // Utility functions
            showToast(message, type = 'info') {
                const container = document.getElementById('toastContainer');
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.innerHTML = `
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'times-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                    <span>${message}</span>
                `;
                container.appendChild(toast);
                setTimeout(() => toast.remove(), 3000);
            },

            escapeHtml(text) {
                if (!text) return '';
                return text
                    .replace(/&/g, '&amp;')
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;')
                    .replace(/"/g, '&quot;')
                    .replace(/'/g, '&#039;');
            },

            shuffleArray(array) {
                const arr = [...array];
                for (let i = arr.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [arr[i], arr[j]] = [arr[j], arr[i]];
                }
                return arr;
            },

            // Lecture content (comprehensive)
            getInternetLecture() {
                return `
                    <h2>üåê Internet Basics</h2>
                    <div class="topic-card">
                        <h3 class="topic-title">üì° How the Internet Works</h3>
                        <p><strong>The Internet</strong> is a global network of interconnected computer networks. When you visit a website, here's what happens:</p>
                        <ol style="margin: 12px 0; padding-left: 20px; line-height: 1.8;">
                            <li><strong>Browser Request:</strong> You type a URL or click a link</li>
                            <li><strong>DNS Lookup:</strong> Domain name is converted to an IP address (e.g., 93.184.216.34)</li>
                            <li><strong>HTTP Request:</strong> Browser sends a request to the server</li>
                            <li><strong>Server Response:</strong> Server sends back HTML/CSS/JavaScript files</li>
                            <li><strong>Rendering:</strong> Browser parses and displays the content</li>
                        </ol>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üîÑ Client-Server Model</h3>
                        <p>The web operates on a <strong>client-server architecture</strong>:</p>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Client (Your Browser)</th><th>Server (Remote Computer)</th></tr>
                            <tr>
                                <td>‚Ä¢ Sends HTTP requests<br>‚Ä¢ Renders received content<br>‚Ä¢ Executes JavaScript<br>‚Ä¢ Manages user interaction</td>
                                <td>‚Ä¢ Listens for requests<br>‚Ä¢ Processes requests<br>‚Ä¢ Returns HTML/CSS/JS<br>‚Ä¢ Stores website files</td>
                            </tr>
                        </table>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üì° HTTP Protocol</h3>
                        <p><strong>HTTP (HyperText Transfer Protocol)</strong> is the foundation of data communication on the web.</p>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Method</th><th>Purpose</th><th>Use Case</th></tr>
                            <tr><td><code>GET</code></td><td>Request data from server</td><td>Loading a webpage</td></tr>
                            <tr><td><code>POST</code></td><td>Send data to server</td><td>Submitting a form</td></tr>
                            <tr><td><code>PUT</code></td><td>Update existing resource</td><td>Updating profile</td></tr>
                            <tr><td><code>DELETE</code></td><td>Remove resource</td><td>Deleting an account</td></tr>
                        </table>
                        <div style="background: var(--bg-tertiary); padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <strong>Important:</strong> GET requests can be cached, bookmarked, and have length restrictions. POST requests are for actions that change server data.
                        </div>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üìÅ File Paths Explained</h3>
                        <p>Paths tell the browser where to find files. Understanding paths is crucial for linking files correctly.</p>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Type</th><th>Example</th><th>When to Use</th></tr>
                            <tr><td><strong>Absolute</strong></td><td><code>https://site.com/img.jpg</code></td><td>Linking to external sites</td></tr>
                            <tr><td><strong>Relative</strong></td><td><code>images/photo.jpg</code> or <code>../images/photo.jpg</code></td><td>Files within your project</td></tr>
                            <tr><td><strong>Root-Relative</strong></td><td><code>/images/photo.jpg</code></td><td>From domain root (starts with /)</td></tr>
                        </table>
                        <p style="margin-top: 12px;"><strong>Relative Path Navigation:</strong></p>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li><code>./file.html</code> - Current folder (same as just <code>file.html</code>)</li>
                            <li><code>../file.html</code> - Parent folder (go up one level)</li>
                            <li><code>../../file.html</code> - Go up two levels</li>
                            <li><code>folder/file.html</code> - Into a subfolder</li>
                        </ul>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üåç Domain Names & URLs</h3>
                        <p>A <strong>URL (Uniform Resource Locator)</strong> is the address of a web resource.</p>
                        <pre style="background: var(--bg-tertiary); padding: 12px; border-radius: 6px; overflow-x: auto;"><code>https://www.example.com:443/path/page.html?id=123#section
|------||---|-------------|---|---------------|---------|--------|
  Protocol Sub    Domain     Port    Path        Query   Fragment</code></pre>
                        <ul style="margin: 12px 0; padding-left: 20px;">
                            <li><strong>Protocol:</strong> https:// (secure) or http:// (insecure)</li>
                            <li><strong>Subdomain:</strong> www, blog, shop, etc.</li>
                            <li><strong>Domain:</strong> example.com (registered name)</li>
                            <li><strong>Port:</strong> :443 (default for HTTPS, usually hidden)</li>
                            <li><strong>Path:</strong> /path/page.html (file location)</li>
                            <li><strong>Query:</strong> ?id=123 (parameters for dynamic content)</li>
                            <li><strong>Fragment:</strong> #section (scroll to element with that id)</li>
                        </ul>
                    </div>
                    <button class="btn btn-success" onclick="StudyPlatform.markLectureComplete('internet')">
                        <i class="fas fa-check"></i> Mark as Complete
                    </button>
                `;
            },

            getHTMLLecture() {
                return `
                    <h2>üìÑ HTML (HyperText Markup Language)</h2>
                    <div class="topic-card">
                        <h3 class="topic-title">üèóÔ∏è Document Structure</h3>
                        <p>Every HTML document follows a standard structure. Understanding this is essential for creating valid web pages.</p>
                        <pre class="code-block">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Page Title&lt;/title&gt;
    &lt;link rel="stylesheet" href="styles.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- Visible content goes here --&gt;
    &lt;script src="script.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
                        <div style="margin-top: 16px;">
                            <p><strong>Key Elements Explained:</strong></p>
                            <ul style="margin: 8px 0; padding-left: 20px; line-height: 1.8;">
                                <li><code>&lt;!DOCTYPE html&gt;</code> - Declares this is an HTML5 document (must be first)</li>
                                <li><code>&lt;html&gt;</code> - Root element containing all other elements</li>
                                <li><code>&lt;head&gt;</code> - Metadata (not visible on page): charset, viewport, title, links to CSS</li>
                                <li><code>&lt;body&gt;</code> - Visible content that appears in the browser</li>
                            </ul>
                        </div>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üî§ Essential Meta Tags</h3>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Meta Tag</th><th>Purpose</th><th>Example</th></tr>
                            <tr><td><code>charset</code></td><td>Character encoding</td><td><code>&lt;meta charset="UTF-8"&gt;</code></td></tr>
                            <tr><td><code>viewport</code></td><td>Responsive design</td><td><code>width=device-width, initial-scale=1.0</code></td></tr>
                            <tr><td><code>description</code></td><td>SEO description</td><td><code>&lt;meta name="description" content="..."&gt;</code></td></tr>
                            <tr><td><code>author</code></td><td>Page author</td><td><code>&lt;meta name="author" content="John"&gt;</code></td></tr>
                        </table>
                        <div style="background: var(--warning); color: #000; padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <strong>‚ö†Ô∏è Critical:</strong> Always include charset and viewport meta tags! UTF-8 supports all languages; viewport makes your site mobile-friendly.
                        </div>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üìê Semantic HTML5 Elements</h3>
                        <p>Semantic elements describe their meaning to both the browser and developer. Use them instead of generic <code>&lt;div&gt;</code> when appropriate.</p>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Element</th><th>Purpose</th><th>Usage</th></tr>
                            <tr><td><code>&lt;header&gt;</code></td><td>Introductory content</td><td>Site logo, navigation at top</td></tr>
                            <tr><td><code>&lt;nav&gt;</code></td><td>Navigation links</td><td>Main menu, breadcrumbs</td></tr>
                            <tr><td><code>&lt;main&gt;</code></td><td>Primary content</td><td>Only ONE per page!</td></tr>
                            <tr><td><code>&lt;article&gt;</code></td><td>Self-contained content</td><td>Blog post, news story, comment</td></tr>
                            <tr><td><code>&lt;section&gt;</code></td><td>Thematic grouping</td><td>Chapters, tabbed content</td></tr>
                            <tr><td><code>&lt;aside&gt;</code></td><td>Sidebar content</td><td>Related links, ads, quotes</td></tr>
                            <tr><td><code>&lt;footer&gt;</code></td><td>Footer content</td><td>Copyright, contact info, links</td></tr>
                        </table>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">‚úçÔ∏è Text Elements</h3>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Element</th><th>Purpose</th><th>Example</th></tr>
                            <tr><td><code>&lt;h1&gt;</code> to <code>&lt;h6&gt;</code></td><td>Headings (h1 = most important)</td><td><code>&lt;h1&gt;Main Title&lt;/h1&gt;</code></td></tr>
                            <tr><td><code>&lt;p&gt;</code></td><td>Paragraph</td><td><code>&lt;p&gt;Text here&lt;/p&gt;</code></td></tr>
                            <tr><td><code>&lt;strong&gt;</code></td><td>Strong importance (bold)</td><td><code>&lt;strong&gt;Warning!&lt;/strong&gt;</code></td></tr>
                            <tr><td><code>&lt;em&gt;</code></td><td>Emphasis (italic)</td><td><code>&lt;em&gt;Note:&lt;/em&gt;</code></td></tr>
                            <tr><td><code>&lt;span&gt;</code></td><td>Generic inline container</td><td><code>&lt;span class="highlight"&gt;text&lt;/span&gt;</code></td></tr>
                            <tr><td><code>&lt;br&gt;</code></td><td>Line break (no closing tag)</td><td>Line 1&lt;br&gt;Line 2</td></tr>
                            <tr><td><code>&lt;hr&gt;</code></td><td>Horizontal rule (thematic break)</td><td><code>&lt;hr&gt;</code></td></tr>
                        </table>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üîó Links & Images</h3>
                        <pre class="code-block">&lt;!-- Link to another page --&gt;
&lt;a href="about.html"&gt;About Us&lt;/a&gt;

&lt;!-- Link to external site (opens in new tab) --&gt;
&lt;a href="https://example.com" target="_blank" rel="noopener"&gt;Visit Site&lt;/a&gt;

&lt;!-- Email link --&gt;
&lt;a href="mailto:email@example.com"&gt;Send Email&lt;/a&gt;

&lt;!-- Image --&gt;
&lt;img src="photo.jpg" alt="Description of image" width="300"&gt;</pre>
                        <div style="margin-top: 12px; background: var(--bg-tertiary); padding: 12px; border-radius: 8px;">
                            <p><strong>Link Attributes:</strong></p>
                            <ul style="margin: 8px 0; padding-left: 20px;">
                                <li><code>href</code> - Destination URL (required)</li>
                                <li><code>target="_blank"</code> - Opens in new tab</li>
                                <li><code>rel="noopener"</code> - Security best practice with target="_blank"</li>
                            </ul>
                            <p style="margin-top: 8px;"><strong>Image Attributes:</strong></p>
                            <ul style="margin: 8px 0; padding-left: 20px;">
                                <li><code>src</code> - Image file path (required)</li>
                                <li><code>alt</code> - Text description for accessibility (required)</li>
                                <li><code>width/height</code> - Dimensions (optional, helps prevent layout shift)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üìã Lists</h3>
                        <pre class="code-block">&lt;!-- Unordered List (bullets) --&gt;
&lt;ul&gt;
    &lt;li&gt;First item&lt;/li&gt;
    &lt;li&gt;Second item&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- Ordered List (numbered) --&gt;
&lt;ol&gt;
    &lt;li&gt;Step one&lt;/li&gt;
    &lt;li&gt;Step two&lt;/li&gt;
&lt;/ol&gt;</pre>
                    </div>
                    <button class="btn btn-success" onclick="StudyPlatform.markLectureComplete('html')">
                        <i class="fas fa-check"></i> Mark as Complete
                    </button>
                `;
            },

            getCSSFundamentalsLecture() {
                return `
                    <h2>üé® CSS Fundamentals</h2>
                    <div class="topic-card">
                        <h3 class="topic-title">üéØ CSS Selectors</h3>
                        <p>Selectors target HTML elements to apply styles. Specificity determines which styles win when multiple rules apply.</p>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Selector</th><th>Example</th><th>Selects</th><th>Specificity</th></tr>
                            <tr><td>Element</td><td><code>p</code></td><td>All &lt;p&gt; elements</td><td>1 point</td></tr>
                            <tr><td>Class</td><td><code>.active</code></td><td>Elements with class="active"</td><td>10 points</td></tr>
                            <tr><td>ID</td><td><code>#header</code></td><td>Element with id="header"</td><td>100 points</td></tr>
                            <tr><td>Descendant</td><td><code>div p</code></td><td>All &lt;p&gt; inside &lt;div&gt;</td><td>Sum of parts (1+1=2)</td></tr>
                            <tr><td>Pseudo-class</td><td><code>a:hover</code></td><td>Links on hover</td><td>10 points</td></tr>
                            <tr><td>Universal</td><td><code>*</code></td><td>All elements</td><td>0 points</td></tr>
                        </table>
                        <pre class="code-block">/* Element selector */
p { color: blue; }

/* Class selector */
.highlight { background-color: yellow; }

/* ID selector - use sparingly */
#header { font-size: 24px; }

/* Descendant selector */
nav a { text-decoration: none; }

/* Multiple classes on same element */
.button.primary { background: blue; }</pre>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üì¶ Box Model (Critical for Midterm!)</h3>
                        <p style="font-size: 1.1rem; background: var(--warning); color: #000; padding: 12px; border-radius: 8px; margin-bottom: 16px;">
                            <strong>üéØ Remember this order: Content ‚Üí Padding ‚Üí Border ‚Üí Margin</strong>
                        </p>
                        
                        <!-- INTERACTIVE BOX MODEL DEMO -->
                        <div class="interactive-demo">
                            <div class="demo-title">üìè Interactive Box Model Demo</div>
                            <div class="box-model-container">
                                <div class="box-model-visual">
                                    <div class="margin-box" id="marginBox" style="padding: 30px;">
                                        <span class="margin-label">Margin</span>
                                        <div class="border-box" id="borderBox" style="border-width: 5px;">
                                            <span class="border-label">Border</span>
                                            <div class="padding-box" id="paddingBox" style="padding: 25px;">
                                                <span class="padding-label">Padding</span>
                                                <div class="content-box" id="contentBox">Content</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-controls">
                                    <div class="control-group">
                                        <label>Margin <span class="control-value" id="marginValue">30px</span></label>
                                        <input type="range" min="0" max="50" value="30" id="marginSlider">
                                    </div>
                                    <div class="control-group">
                                        <label>Border <span class="control-value" id="borderValue">5px</span></label>
                                        <input type="range" min="0" max="20" value="5" id="borderSlider">
                                    </div>
                                    <div class="control-group">
                                        <label>Padding <span class="control-value" id="paddingValue">25px</span></label>
                                        <input type="range" min="0" max="50" value="25" id="paddingSlider">
                                    </div>
                                    <div class="control-group">
                                        <label>Content Width <span class="control-value" id="contentValue">120px</span></label>
                                        <input type="range" min="80" max="200" value="120" id="contentSlider">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Layer</th><th>Description</th><th>CSS Property</th></tr>
                            <tr><td><strong>Content</strong></td><td>Actual content (text, images)</td><td><code>width</code>, <code>height</code></td></tr>
                            <tr><td><strong>Padding</strong></td><td>Space AROUND content (inside border)</td><td><code>padding</code></td></tr>
                            <tr><td><strong>Border</strong></td><td>Line around padding</td><td><code>border</code></td></tr>
                            <tr><td><strong>Margin</strong></td><td>Space OUTSIDE border (between elements)</td><td><code>margin</code></td></tr>
                        </table>
                        <pre class="code-block">.box {
    /* Shorthand: top right bottom left */
    padding: 10px 20px 10px 20px;
    
    /* Shorthand: top/bottom left/right */
    margin: 20px auto;  /* 20px top/bottom, centered horizontally */
    
    /* Border shorthand: width style color */
    border: 2px solid #333;
}</pre>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üìê Box Sizing</h3>
                        <p>The <code>box-sizing</code> property determines how width and height are calculated.</p>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Value</th><th>Description</th><th>Example Result</th></tr>
                            <tr><td><code>content-box</code> (default)</td><td>Width/height applies ONLY to content</td><td>300px + 40px padding + 10px border = 350px total</td></tr>
                            <tr><td><code>border-box</code> ‚≠ê</td><td>Width/height includes content + padding + border</td><td>Total stays 300px (recommended!)</td></tr>
                        </table>
                        <div style="background: var(--bg-tertiary); padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <p><strong>Best Practice:</strong> Always use border-box for easier layouts:</p>
                            <pre style="margin: 8px 0;"><code>* { box-sizing: border-box; }</code></pre>
                        </div>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üëÅÔ∏è Display Property</h3>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Value</th><th>Behavior</th><th>Default Elements</th></tr>
                            <tr><td><code>block</code></td><td>Full width, new line, accepts all properties</td><td>div, p, h1-h6, header, footer</td></tr>
                            <tr><td><code>inline</code></td><td>Only needed width, stays inline, no width/height</td><td>span, a, strong, em</td></tr>
                            <tr><td><code>inline-block</code></td><td>Inline flow but accepts width/height</td><td>Useful for buttons, nav items</td></tr>
                            <tr><td><code>none</code></td><td>Hidden, removed from layout</td><td>For hiding elements</td></tr>
                            <tr><td><code>flex</code></td><td>Flexbox container</td><td>Set explicitly</td></tr>
                        </table>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üåà Colors & Interactive Color Picker</h3>
                        <p>CSS supports multiple color formats. Use the interactive tool below to explore:</p>
                        
                        <!-- INTERACTIVE COLOR PICKER -->
                        <div class="interactive-demo">
                            <div class="demo-title">üé® Color Converter</div>
                            <div class="color-picker-container">
                                <div class="color-input-section">
                                    <div class="color-input-group">
                                        <label>Hex Color</label>
                                        <div class="color-input-wrapper">
                                            <input type="text" class="color-input" id="hexInput" value="#00EE00" placeholder="#00EE00">
                                            <input type="color" id="colorPicker" value="#00EE00">
                                        </div>
                                    </div>
                                    <div class="color-input-group">
                                        <label>RGB Value</label>
                                        <input type="text" class="color-input" id="rgbInput" value="rgb(0, 238, 0)" readonly>
                                    </div>
                                </div>
                                <div class="color-preview-section">
                                    <div class="color-preview-box" id="colorPreview" style="background: #00EE00; color: #000;">#00EE00</div>
                                    <div class="color-info">
                                        <div class="color-info-item"><span>Hex:</span> <code id="hexDisplay">#00EE00</code></div>
                                        <div class="color-info-item"><span>RGB:</span> <code id="rgbDisplay">rgb(0, 238, 0)</code></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Format</th><th>Example</th><th>Description</th></tr>
                            <tr><td>Hexadecimal</td><td><code>#00EE00</code></td><td>6-digit hex code (RRGGBB)</td></tr>
                            <tr><td>RGB</td><td><code>rgb(0, 238, 0)</code></td><td>Red, Green, Blue (0-255)</td></tr>
                            <tr><td>Named</td><td><code>red</code>, <code>blue</code></td><td>140+ predefined color names</td></tr>
                        </table>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">‚ö° Cascade and Specificity</h3>
                        <p>When multiple rules apply to the same element, CSS uses specificity to determine which wins:</p>
                        <ol style="margin: 12px 0; padding-left: 20px; line-height: 1.8;">
                            <li><strong>Inline styles</strong> (style="color: red") - 1000 points</li>
                            <li><strong>ID selectors</strong> (#myid) - 100 points</li>
                            <li><strong>Class/Attribute/Pseudo-class</strong> (.myclass, :hover) - 10 points each</li>
                            <li><strong>Element selectors</strong> (p, div) - 1 point each</li>
                        </ol>
                        <div style="background: var(--accent-light); color: #fff; padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <strong>üí° Tip:</strong> If specificity is equal, the LAST declared rule wins (the "C" in CSS = Cascade).
                        </div>
                    </div>
                    <button class="btn btn-success" onclick="StudyPlatform.markLectureComplete('css-fundamentals')">
                        <i class="fas fa-check"></i> Mark as Complete
                    </button>
                `;
            },

            getCSSLayoutLecture() {
                return `
                    <h2>üìê CSS Layout</h2>
                    <div class="topic-card">
                        <h3 class="topic-title">üéØ Flexbox (Flexible Box Layout)</h3>
                        <p>Flexbox is a one-dimensional layout method for arranging items in rows or columns. It's perfect for component-level layouts.</p>
                        <pre class="code-block">.container {
    display: flex;
    flex-direction: row;           /* row | row-reverse | column | column-reverse */
    justify-content: flex-start;   /* flex-start | flex-end | center | space-between | space-around */
    align-items: stretch;          /* stretch | flex-start | flex-end | center */
    flex-wrap: nowrap;             /* nowrap | wrap | wrap-reverse */
}</pre>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Property</th><th>Values</th><th>Description</th></tr>
                            <tr><td><code>flex-direction</code></td><td>row, row-reverse, column, column-reverse</td><td>Direction of flex items</td></tr>
                            <tr><td><code>justify-content</code></td><td>flex-start, flex-end, center, space-between, space-around</td><td>Alignment along main axis</td></tr>
                            <tr><td><code>align-items</code></td><td>stretch, flex-start, flex-end, center</td><td>Alignment along cross axis</td></tr>
                        </table>
                        <div style="background: var(--accent-light); color: #fff; padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <strong>üéØ Key Flexbox Values for Midterm:</strong>
                            <ul style="margin: 8px 0; padding-left: 20px;">
                                <li><code>justify-content: space-between</code> - First/last items touch edges, equal space between</li>
                                <li><code>justify-content: space-around</code> - Equal space on all sides of each item</li>
                                <li><code>flex-direction: row</code> (default) - Left to right</li>
                                <li><code>flex-direction: column</code> - Top to bottom</li>
                            </ul>
                        </div>
                        
                        <!-- INTERACTIVE FLEXBOX DEMO -->
                        <div class="interactive-demo" style="margin-top: 24px;">
                            <div class="demo-title">üéÆ Interactive Flexbox Playground</div>
                            <div class="flexbox-container">
                                <div class="flex-demo-area" id="flexDemo">
                                    <div class="flex-item">1</div>
                                    <div class="flex-item">2</div>
                                    <div class="flex-item">3</div>
                                </div>
                                <div class="flex-controls">
                                    <div class="control-group">
                                        <label>flex-direction</label>
                                        <select class="control-select" id="flexDirection">
                                            <option value="row">row</option>
                                            <option value="row-reverse">row-reverse</option>
                                            <option value="column">column</option>
                                            <option value="column-reverse">column-reverse</option>
                                        </select>
                                    </div>
                                    <div class="control-group">
                                        <label>justify-content</label>
                                        <select class="control-select" id="justifyContent">
                                            <option value="flex-start">flex-start</option>
                                            <option value="flex-end">flex-end</option>
                                            <option value="center">center</option>
                                            <option value="space-between">space-between</option>
                                            <option value="space-around">space-around</option>
                                            <option value="space-evenly">space-evenly</option>
                                        </select>
                                    </div>
                                    <div class="control-group">
                                        <label>align-items</label>
                                        <select class="control-select" id="alignItems">
                                            <option value="stretch">stretch</option>
                                            <option value="flex-start">flex-start</option>
                                            <option value="flex-end">flex-end</option>
                                            <option value="center">center</option>
                                        </select>
                                    </div>
                                </div>
                                <pre style="margin-top: 15px; background: var(--bg-secondary); padding: 12px; border-radius: 6px;"><code id="flexCode">.container {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
}</code></pre>
                            </div>
                        </div>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üìç Positioning</h3>
                        <p>The <code>position</code> property defines how an element is positioned in the document.</p>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Value</th><th>Reference Point</th><th>Removed from Flow?</th><th>Use Case</th></tr>
                            <tr><td><code>static</code></td><td>Normal document flow</td><td>No</td><td>Default for all elements</td></tr>
                            <tr><td><code>relative</code></td><td>Element's original position</td><td>No</td><td>Small adjustments, positioning context</td></tr>
                            <tr><td><code>absolute</code></td><td>Nearest positioned ancestor</td><td>Yes</td><td>Overlays, dropdowns, tooltips</td></tr>
                            <tr><td><code>fixed</code></td><td>Browser window (viewport)</td><td>Yes</td><td>Sticky headers, chat buttons</td></tr>
                            <tr><td><code>sticky</code></td><td>Scroll position</td><td>No (until threshold)</td><td>Sticky nav bars</td></tr>
                        </table>
                        <div style="background: var(--warning); color: #000; padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <strong>‚ö†Ô∏è Critical:</strong> <code>position: fixed</code> removes the element from the document flow and positions it relative to the browser window. It stays in place when scrolling!
                        </div>
                        <pre class="code-block">.tooltip {
    position: absolute;
    top: 100%;      /* Position below parent */
    left: 0;
}

.fixed-header {
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 100;   /* Ensure it stays on top */
}</pre>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üé® z-index (Stacking Order)</h3>
                        <p>Controls the vertical stacking order of positioned elements (position other than static).</p>
                        <ul style="margin: 12px 0; padding-left: 20px;">
                            <li>Higher <code>z-index</code> = appears in front</li>
                            <li>Only works on positioned elements</li>
                            <li>Default is <code>auto</code> (same as 0)</li>
                        </ul>
                    </div>
                    <button class="btn btn-success" onclick="StudyPlatform.markLectureComplete('css-layout')">
                        <i class="fas fa-check"></i> Mark as Complete
                    </button>
                `;
            },

            getJSBasicsLecture() {
                return `
                    <h2>‚ö° JavaScript Basics</h2>
                    <div class="topic-card">
                        <h3 class="topic-title">üì¶ Variables: let, const, var</h3>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Keyword</th><th>Can Reassign?</th><th>Scope</th><th>When to Use</th></tr>
                            <tr><td><code>const</code> ‚≠ê</td><td>No</td><td>Block</td><td>Default choice - value won't change</td></tr>
                            <tr><td><code>let</code></td><td>Yes</td><td>Block</td><td>Value will change</td></tr>
                            <tr><td><code>var</code> (avoid)</td><td>Yes</td><td>Function</td><td>Legacy code only</td></tr>
                        </table>
                        <pre class="code-block">const PI = 3.14159;        // Cannot reassign
const name = "Alice";       // String constant

let count = 0;              // Can reassign
count = 1;                  // ‚úì OK
count = 2;                  // ‚úì OK

// PI = 3.14;               // ‚úó Error! Cannot reassign const</pre>
                        <div style="background: var(--warning); color: #000; padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <strong>Best Practice:</strong> Always use <code>const</code> by default. Only use <code>let</code> when you know the value will change. Never use <code>var</code> in modern code.
                        </div>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">‚úÖ Variable Naming Rules</h3>
                        <ul style="margin: 12px 0; padding-left: 20px; line-height: 1.8;">
                            <li>Can contain: letters, digits, <code>$</code>, and <code>_</code></li>
                            <li>Cannot start with a digit (e.g., <code>1st</code> is invalid)</li>
                            <li>No hyphens allowed (e.g., <code>tar-get</code> is invalid - use <code>target</code> or <code>tarGet</code>)</li>
                            <li>Case-sensitive: <code>MyVar</code> ‚â† <code>myvar</code></li>
                            <li>Cannot use reserved words: <code>let</code>, <code>const</code>, <code>function</code>, etc.</li>
                        </ul>
                        
                        <!-- VARIABLE NAME VALIDATOR -->
                        <div class="interactive-demo" style="margin-top: 20px;">
                            <div class="demo-title">üîç Variable Name Validator</div>
                            <div class="validator-container">
                                <div class="validator-input-group">
                                    <input type="text" class="validator-input" id="varNameInput" placeholder="Enter variable name (e.g., myVariable, 123var, tar-get)">
                                    <button class="btn btn-primary" onclick="StudyPlatform.validateVariableName()">Validate</button>
                                </div>
                                <div class="validator-result" id="validatorResult">
                                    <div id="validatorMessage"></div>
                                </div>
                                <div class="validator-rules">
                                    <h4>Rules:</h4>
                                    <div class="rule-item"><span class="rule-icon pending" id="rule1">?</span><span>Can contain letters, digits, $, and _</span></div>
                                    <div class="rule-item"><span class="rule-icon pending" id="rule2">?</span><span>Cannot start with a digit</span></div>
                                    <div class="rule-item"><span class="rule-icon pending" id="rule3">?</span><span>No hyphens (tar-get is invalid)</span></div>
                                    <div class="rule-item"><span class="rule-icon pending" id="rule4">?</span><span>Case-sensitive (MyVar ‚â† myvar)</span></div>
                                </div>
                            </div>
                        </div>
                        
                        <p style="margin-top: 16px;"><strong>Valid:</strong> <code>userName</code>, <code>_count</code>, <code>$price</code>, <code>item1</code>, <code>MAX_SIZE</code></p>
                        <p><strong>Invalid:</strong> <code>1stPlace</code> (starts with digit), <code>tar-get</code> (hyphen), <code>my var</code> (space)</p>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üî¢ Data Types</h3>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Type</th><th>Example</th><th>Description</th></tr>
                            <tr><td><code>string</code></td><td><code>"Hello"</code>, <code>'World'</code></td><td>Text data (quotes don't matter, just be consistent)</td></tr>
                            <tr><td><code>number</code></td><td><code>42</code>, <code>3.14</code>, <code>-5</code></td><td>Integers and decimals (no separate int/float)</td></tr>
                            <tr><td><code>boolean</code></td><td><code>true</code>, <code>false</code></td><td>Logical values</td></tr>
                            <tr><td><code>null</code></td><td><code>null</code></td><td>Intentional absence of value</td></tr>
                            <tr><td><code>undefined</code></td><td><code>undefined</code></td><td>Variable declared but not assigned a value</td></tr>
                            <tr><td><code>object</code></td><td><code>{ name: "John" }</code></td><td>Complex data structures</td></tr>
                        </table>
                        <pre class="code-block">let name = "Alice";           // string
let age = 25;                 // number
let isStudent = true;         // boolean
let score = null;             // null - intentional empty
let data;                     // undefined - no value assigned
let person = { name: "Bob" }; // object

// Check type with typeof operator
console.log(typeof name);     // "string"
console.log(typeof age);      // "number"
console.log(typeof null);     // "object" (JavaScript quirk!)</pre>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üî¢ Operators</h3>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Operator</th><th>Name</th><th>Example</th><th>Result</th></tr>
                            <tr><td><code>+</code></td><td>Addition</td><td><code>5 + 3</code></td><td>8</td></tr>
                            <tr><td><code>-</code></td><td>Subtraction</td><td><code>5 - 3</code></td><td>2</td></tr>
                            <tr><td><code>*</code></td><td>Multiplication</td><td><code>5 * 3</code></td><td>15</td></tr>
                            <tr><td><code>/</code></td><td>Division</td><td><code>6 / 2</code></td><td>3</td></tr>
                            <tr><td><code>%</code></td><td>Modulo (remainder)</td><td><code>7 % 3</code></td><td>1</td></tr>
                            <tr><td><code>**</code></td><td>Exponentiation</td><td><code>2 ** 3</code></td><td>8</td></tr>
                        </table>
                        <div style="background: var(--bg-tertiary); padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <strong>üí° Modulo (%)</strong> gives the remainder after division. Useful for checking even/odd: <code>num % 2 === 0</code> means even.
                        </div>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üìä Operator Precedence (Critical for Midterm!)</h3>
                        <p>Operators are evaluated in order of precedence (like PEMDAS in math).</p>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Precedence</th><th>Operators</th><th>Description</th></tr>
                            <tr><td>1 (Highest)</td><td><code>()</code></td><td>Parentheses</td></tr>
                            <tr><td>2</td><td><code>**</code></td><td>Exponentiation</td></tr>
                            <tr><td>3</td><td><code>* / %</code></td><td>Multiplication, Division, Modulo</td></tr>
                            <tr><td>4</td><td><code>+ -</code></td><td>Addition, Subtraction</td></tr>
                        </table>
                        
                        <!-- INTERACTIVE CALCULATOR -->
                        <div class="interactive-demo">
                            <div class="demo-title">üßÆ Operator Precedence Calculator</div>
                            <div class="calc-container">
                                <div class="calc-input-section">
                                    <input type="text" class="calc-input" id="calcExpression" value='"4" + 8 / 2' placeholder='e.g., "4" + 8 / 2'>
                                    <button class="btn btn-primary" onclick="StudyPlatform.calculatePrecedence()">Calculate</button>
                                </div>
                                <div class="calc-steps" id="calcSteps">
                                    <div id="calcStepsContent"></div>
                                </div>
                            </div>
                        </div>
                        
                        <pre class="code-block">// Type coercion example (common on midterms!)
"4" + 8 / 2     // Step 1: 8 / 2 = 4
                // Step 2: "4" + 4 = "44" (string concatenation!)
                // Result: "44"

2 ** 3 * 2      // Step 1: 2 ** 3 = 8
                // Step 2: 8 * 2 = 16
                // Result: 16

5 + 3 * 2       // Step 1: 3 * 2 = 6
                // Step 2: 5 + 6 = 11
                // Result: 11</pre>
                        <div style="background: var(--warning); color: #000; padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <strong>‚ö†Ô∏è Type Coercion:</strong> When using <code>+</code> with a string, JavaScript converts the other operand to a string: <code>"4" + 8</code> becomes <code>"48"</code>, not <code>12</code>!
                        </div>
                    </div>
                    <button class="btn btn-success" onclick="StudyPlatform.markLectureComplete('js-basics')">
                        <i class="fas fa-check"></i> Mark as Complete
                    </button>
                `;
            },

            getJSControlFlowLecture() {
                return `
                    <h2>üîÄ JavaScript Control Flow</h2>
                    <div class="topic-card">
                        <h3 class="topic-title">üîç Comparison Operators (Critical for Midterm!)</h3>
                        <p style="background: var(--warning); color: #000; padding: 12px; border-radius: 8px; margin-bottom: 16px;">
                            <strong>Always use === and !==</strong> (strict equality) to avoid unexpected type coercion bugs!
                        </p>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Operator</th><th>Name</th><th>Example</th><th>Result</th></tr>
                            <tr><td><code>==</code></td><td>Loose equality</td><td><code>5 == "5"</code></td><td>true (type coercion!)</td></tr>
                            <tr><td><code>===</code></td><td>Strict equality ‚≠ê</td><td><code>5 === "5"</code></td><td>false (different types)</td></tr>
                            <tr><td><code>!=</code></td><td>Loose inequality</td><td><code>5 != "5"</code></td><td>false</td></tr>
                            <tr><td><code>!==</code></td><td>Strict inequality ‚≠ê</td><td><code>5 !== "5"</code></td><td>true</td></tr>
                            <tr><td><code>&gt;</code></td><td>Greater than</td><td><code>5 &gt; 3</code></td><td>true</td></tr>
                            <tr><td><code>&lt;</code></td><td>Less than</td><td><code>5 &lt; 3</code></td><td>false</td></tr>
                            <tr><td><code>&gt;=</code></td><td>Greater or equal</td><td><code>5 &gt;= 5</code></td><td>true</td></tr>
                            <tr><td><code>&lt;=</code></td><td>Less or equal</td><td><code>5 &lt;= 3</code></td><td>false</td></tr>
                        </table>
                        <pre class="code-block">// Loose equality (==) - allows type coercion
5 == "5"        // true (string "5" converted to number 5)
0 == false      // true (false converted to number 0)
"" == 0         // true (empty string converted to 0)
null == undefined  // true (JavaScript quirk!)

// Strict equality (===) - NO type coercion
5 === "5"       // false (number !== string)
0 === false     // false (number !== boolean)
5 === 5         // true (same value AND type)</pre>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">‚ö†Ô∏è Object Comparison (Common Trick Question!)</h3>
                        <p style="background: var(--danger-light); color: #fff; padding: 12px; border-radius: 8px; margin-bottom: 16px;">
                            <strong>Critical:</strong> Two empty objects are NOT equal, even with == or ===!
                        </p>
                        <pre class="code-block">let obj1 = {};
let obj2 = {};

// These are NOT equal!
obj1 == obj2    // false
obj1 === obj2   // false

// Even comparing to itself
let obj3 = {};
obj3 === obj3   // true (same reference)

// Same applies to arrays
[] == []        // false (different objects)
[] === []       // false</pre>
                        <div style="background: var(--bg-tertiary); padding: 12px; border-radius: 8px;">
                            <strong>Why?</strong> Objects are compared by <strong>reference</strong>, not value. Each <code>{}</code> or <code>[]</code> creates a new object in memory.
                        </div>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üîó Logical Operators</h3>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Operator</th><th>Name</th><th>Description</th></tr>
                            <tr><td><code>&&</code></td><td>AND</td><td>True if BOTH operands are true</td></tr>
                            <tr><td><code>||</code></td><td>OR</td><td>True if AT LEAST ONE operand is true</td></tr>
                            <tr><td><code>!</code></td><td>NOT</td><td>Inverts the boolean value</td></tr>
                        </table>
                        <pre class="code-block">let age = 25;
let hasID = true;

// AND - both must be true
age >= 18 && hasID      // true

// OR - at least one must be true
age < 18 || hasID       // true (hasID is true)

// NOT - inverts the value
!hasID                  // false
!(age < 18)             // true (age is NOT less than 18)</pre>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>A</th><th>B</th><th>A && B</th><th>A || B</th><th>!A</th></tr>
                            <tr><td>true</td><td>true</td><td>true</td><td>true</td><td>false</td></tr>
                            <tr><td>true</td><td>false</td><td>false</td><td>true</td><td>false</td></tr>
                            <tr><td>false</td><td>false</td><td>false</td><td>false</td><td>true</td></tr>
                        </table>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">‚ùì Ternary Operator</h3>
                        <p>A shorthand for simple if...else statements.</p>
                        <pre class="code-block">// Syntax: condition ? valueIfTrue : valueIfFalse

let age = 20;
let status = age >= 18 ? "adult" : "minor";
// status is "adult"

// Multiple conditions (nested ternary)
let score = 85;
let grade = score >= 90 ? "A" :
            score >= 80 ? "B" :
            score >= 70 ? "C" : "F";
// grade is "B"</pre>
                        <div style="background: var(--bg-tertiary); padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <p><strong>Comparison:</strong></p>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 8px;">
                                <div>
                                    <strong>Traditional if/else:</strong>
                                    <pre style="font-size: 0.85rem;">let result;
if (age >= 18) {
    result = "adult";
} else {
    result = "minor";
}</pre>
                                </div>
                                <div>
                                    <strong>Ternary:</strong>
                                    <pre style="font-size: 0.85rem;">let result = 
    age >= 18 
        ? "adult" 
        : "minor";</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-success" onclick="StudyPlatform.markLectureComplete('js-control-flow')">
                        <i class="fas fa-check"></i> Mark as Complete
                    </button>
                `;
            },

            getJSFunctionsLecture() {
                return `
                    <h2>‚öôÔ∏è JavaScript Functions</h2>
                    <div class="topic-card">
                        <h3 class="topic-title">üìù Function Declarations</h3>
                        <p>The traditional way to define a function. <strong>Hoisted</strong> to the top of their scope.</p>
                        <pre class="code-block">// Function Declaration
function greet(name) {
    return "Hello, " + name + "!";
}

// Calling the function
let message = greet("Alice");
console.log(message);  // "Hello, Alice!"

// Function with multiple parameters
function add(a, b) {
    return a + b;
}
add(5, 3);  // 8</pre>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üìé Function Expressions</h3>
                        <p>Functions assigned to variables. <strong>Not hoisted</strong> - must be defined before use.</p>
                        <pre class="code-block">// Function Expression
const multiply = function(x, y) {
    return x * y;
};

multiply(4, 5);  // 20

// Can also use let (but const is preferred)
let divide = function(a, b) {
    return a / b;
};</pre>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Feature</th><th>Function Declaration</th><th>Function Expression</th></tr>
                            <tr><td>Hoisted</td><td>‚úì Yes (can call before definition)</td><td>‚úó No</td></tr>
                            <tr><td>Name required</td><td>‚úì Yes</td><td>‚úó Can be anonymous</td></tr>
                            <tr><td>Syntax</td><td><code>function name() {}</code></td><td><code>const name = function() {}</code></td></tr>
                        </table>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üèπ Arrow Functions</h3>
                        <p>A concise syntax for writing function expressions. Great for short functions.</p>
                        <pre class="code-block">// Traditional function expression
const square = function(x) {
    return x * x;
};

// Arrow function (equivalent)
const square = (x) => {
    return x * x;
};

// Arrow function with implicit return (no curly braces)
const square = (x) => x * x;

// Single parameter can omit parentheses
const double = x => x * 2;

// No parameters need empty parentheses
const getRandom = () => Math.random();

// Example from course: let b = (y) => (y * y) + 2;
let b = (y) => (y * y) + 2;
b(3);  // (3 * 3) + 2 = 11</pre>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Syntax</th><th>Use When</th></tr>
                            <tr><td><code>(x) => x * x</code></td><td>Single expression (implicit return)</td></tr>
                            <tr><td><code>(x) => { return x * x; }</code></td><td>Multiple statements</td></tr>
                            <tr><td><code>x => x * 2</code></td><td>Single parameter (no parens needed)</td></tr>
                            <tr><td><code>() => 42</code></td><td>No parameters</td></tr>
                        </table>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">ü•á Functions as First-Class Values</h3>
                        <p>In JavaScript, functions are <strong>first-class citizens</strong> - they can be treated like any other value.</p>
                        <pre class="code-block">// 1. Functions can be assigned to variables
const sayHello = function() {
    return "Hello!";
};

// 2. Functions can be passed to other functions
function execute(fn) {
    return fn();
}
execute(sayHello);  // "Hello!"

// 3. Functions can be stored in arrays
const operations = [
    (x) => x + 1,    // add one
    (x) => x * 2,    // double
    (x) => x * x     // square
];
operations[0](5);  // 6
operations[1](5);  // 10
operations[2](5);  // 25

// 4. Functions can be returned from functions
function createMultiplier(factor) {
    return function(number) {
        return number * factor;
    };
}
const triple = createMultiplier(3);
triple(4);  // 12</pre>
                        <div style="background: var(--accent-light); color: #fff; padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <strong>First-Class Functions mean:</strong>
                            <ul style="margin: 8px 0; padding-left: 20px;">
                                <li>Assigned to variables</li>
                                <li>Passed as arguments to other functions</li>
                                <li>Returned from functions</li>
                                <li>Stored in arrays and objects</li>
                            </ul>
                        </div>
                    </div>
                    <button class="btn btn-success" onclick="StudyPlatform.markLectureComplete('js-functions')">
                        <i class="fas fa-check"></i> Mark as Complete
                    </button>
                `;
            },

            getJSObjectsLecture() {
                return `
                    <h2>üì¶ JavaScript Objects</h2>
                    <div class="topic-card">
                        <h3 class="topic-title">üìù Object Literals</h3>
                        <p>Objects store collections of key-value pairs (properties).</p>
                        <pre class="code-block">// Object literal syntax
const person = {
    name: "Alice",
    age: 25,
    isStudent: true,
    hobbies: ["reading", "coding"]
};

// Object with nested object
const dog = {
    name: "Buddy",
    breed: "Golden Retriever",
    owner: {
        name: "John",
        phone: "555-1234"
    }
};</pre>
                        <div style="background: var(--bg-tertiary); padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <strong>Key Points:</strong> Object keys are strings (or automatically converted to strings). Values can be any type: strings, numbers, booleans, arrays, other objects, or even functions!
                        </div>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üîë Property Access: Dot vs Bracket Notation</h3>
                        <p>Two ways to access object properties. Each has its use cases.</p>
                        <pre class="code-block">const dog = {
    name: "Buddy",
    breed: "Golden Retriever",
    "favorite toy": "tennis ball"  // key with space
};

// Dot notation - preferred when possible
dog.name;        // "Buddy"
dog.breed;       // "Golden Retriever"

// Bracket notation - required for special keys
dog["name"];     // "Buddy"
dog["favorite toy"];  // "tennis ball" (key has space)

// Bracket notation with variables
let prop = "breed";
dog[prop];       // "Golden Retriever" (dynamic access)
dog.prop;        // undefined (looks for "prop" key, not variable)</pre>
                        <table style="margin: 16px 0; width: 100%;">
                            <tr><th>Dot Notation</th><th>Bracket Notation</th></tr>
                            <tr><td><code>dog.name</code></td><td><code>dog["name"]</code></td></tr>
                            <tr><td>‚úì Cleaner syntax</td><td>‚úì Dynamic property names</td></tr>
                            <tr><td>‚úó No special characters</td><td>‚úì Keys with spaces/symbols</td></tr>
                            <tr><td>‚úó No variables</td><td>‚úì Variables as keys</td></tr>
                        </table>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üîÑ Object.assign()</h3>
                        <p>Copies properties from source objects to a target object. Useful for cloning or merging.</p>
                        <pre class="code-block">// Syntax: Object.assign(target, ...sources)

// Creating a copy (use {} as target)
const original = { a: 1, b: 2 };
const copy = Object.assign({}, original);
// copy is { a: 1, b: 2 }

// Merging multiple objects
const defaults = { theme: "light", fontSize: 14 };
const userPrefs = { theme: "dark" };
const settings = Object.assign({}, defaults, userPrefs);
// settings is { theme: "dark", fontSize: 14 }
// userPrefs overwrites defaults!

// Adding/modifying properties
const user = { name: "Alice" };
Object.assign(user, { age: 25, name: "Bob" });
// user is now { name: "Bob", age: 25 }</pre>
                        <div style="background: var(--warning); color: #000; padding: 12px; border-radius: 8px; margin-top: 12px;">
                            <strong>Note:</strong> <code>Object.assign()</code> does a <strong>shallow copy</strong> - nested objects are copied by reference, not duplicated.
                        </div>
                    </div>
                    <div class="topic-card">
                        <h3 class="topic-title">üí° Practical Example from Course</h3>
                        <pre class="code-block">// The dog.cat example
const dog = {
    name: "Rex",
    cat: "meow"  // property named "cat" (not actually a cat!)
};

// Both notations work
dog.cat;         // "meow"
dog["cat"];      // "meow"

// Creating a copy with modifications
const dogWithAge = Object.assign({}, dog, { age: 3 });
// dogWithAge is { name: "Rex", cat: "meow", age: 3 }
// Original 'dog' object is unchanged!</pre>
                    </div>
                    <button class="btn btn-success" onclick="StudyPlatform.markLectureComplete('js-objects')">
                        <i class="fas fa-check"></i> Mark as Complete
                    </button>
                `;
            },

            showCategorySelector() {
                const categories = [
                    { id: 'internet', name: 'Internet Basics' },
                    { id: 'html', name: 'HTML' },
                    { id: 'css-fundamentals', name: 'CSS Fundamentals' },
                    { id: 'css-layout', name: 'CSS Layout' },
                    { id: 'js-basics', name: 'JS Basics' },
                    { id: 'js-control-flow', name: 'JS Control Flow' },
                    { id: 'js-functions', name: 'JS Functions' },
                    { id: 'js-objects', name: 'JS Objects' }
                ];

                const container = document.getElementById('quizDashboard');
                container.innerHTML = `
                    <div style="max-width: 600px; margin: 0 auto;">
                        <h2 style="margin-bottom: 24px;"><i class="fas fa-folder-open"></i> Select Category</h2>
                        <div style="display: grid; gap: 12px;">
                            ${categories.map(cat => `
                                <button class="btn btn-secondary" style="text-align: left; padding: 16px 20px;"
                                        onclick="StudyPlatform.startQuiz('category', '${cat.id}')">
                                    <span style="font-size: 1.5rem; margin-right: 12px;">
                                        ${cat.id === 'internet' ? 'üåê' : cat.id === 'html' ? 'üìÑ' : cat.id.includes('css') ? 'üé®' : '‚ö°'}
                                    </span>
                                    ${cat.name}
                                    <span style="margin-left: auto; color: var(--text-muted);">
                                        ${megaQuestionBank.filter(q => q.category === cat.id).length} questions
                                    </span>
                                </button>
                            `).join('')}
                        </div>
                        <button class="btn btn-secondary" style="margin-top: 24px;" onclick="StudyPlatform.renderQuizDashboard()">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                    </div>
                `;
            }
        };

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            StudyPlatform.init();
        });
    </script>
</body>
</html>
